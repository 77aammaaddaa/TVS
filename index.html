<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechnoVision - حلول متكاملة لنمو أعمالك</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome CDN for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Custom Tailwind Colors based on brand identity */
        :root {
            --color-primary-dark: #2a2a32; /* Dark Gray from logo */
            --color-primary-accent: #fcbf01; /* Yellow from logo */
            --color-secondary-dark: #1f2937; /* Slightly lighter than primary-dark for contrast */
            --color-text-light: #f3f4f6; /* Gray-100 for light text */
            --color-text-dark: #1f2937; /* Dark text for light backgrounds */
        }

        /* Override Tailwind defaults for primary colors */
        .bg-primary-dark { background-color: var(--color-primary-dark); }
        .text-primary-dark { color: var(--color-primary-dark); }
        .hover\:bg-primary-dark-hover:hover { background-color: #1a1a1a; } /* Slightly darker hover */

        .bg-primary-accent { background-color: var(--color-primary-accent); }
        .text-primary-accent { color: var(--color-primary-accent); }
        .hover\:bg-primary-accent-hover:hover { background-color: #e6b000; } /* Slightly darker yellow hover */

        .border-primary-accent { border-color: var(--color-primary-accent); }

        /* General Body Styling */
        body {
            font-family: 'Inter', sans-serif; /* Or Poppins for headings, Open Sans/Lato for body */
            direction: rtl;
            text-align: right;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        /* Custom Animations */
        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        .animate-fade-in-down { animation: fadeInDown 0.8s ease-out forwards; }
        .animate-fade-in-up { animation: fadeInUp 0.8s ease-out forwards; }
        .animate-bounce-in { animation: bounceIn 0.8s ease-out forwards; }
        .animate-fade-in { animation: fadeIn 0.6s ease-out forwards; }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* All page sections are now displayed by default */
        .page-content {
            display: block; /* Ensure all sections are visible */
            scroll-margin-top: 80px; /* Offset for fixed navbar when scrolling to an anchor */
        }

        /* Modal specific styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 50;
            padding: 1rem;
        }

        .modal-content {
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            padding: 1.5rem 2rem;
            width: 100%;
            max-width: 32rem; /* max-w-lg */
            position: relative;
            animation: fadeInUp 0.3s ease-out forwards;
            overflow-y: auto;
            max-height: 90vh;
        }
        /* Table Styling for Pricing Page - Kept for reference but not actively used in the new pricing concept */
        .pricing-table th, .pricing-table td {
            padding: 0.75rem;
            text-align: right;
            border-bottom: 1px solid #e5e7eb; /* gray-200 */
        }
        .pricing-table th {
            background-color: var(--color-primary-dark);
            color: var(--color-text-light);
            font-weight: bold;
        }
        .pricing-table tr:nth-child(even) {
            background-color: #f9fafb; /* gray-50 */
        }
        .pricing-table tr:hover {
            background-color: #f3f4f6; /* gray-100 */
        }

        /* Accordion styles for services details */
        .accordion-item {
            border-bottom: 1px solid #e5e7eb; /* gray-200 */
        }
        .accordion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            cursor: pointer;
            font-size: 1.25rem; /* text-xl */
            font-weight: bold;
            color: var(--color-primary-dark);
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            padding-bottom: 0;
        }
        .accordion-content.active {
            max-height: 500px; /* Adjust as needed */
            padding-bottom: 1rem;
        }
        .accordion-header .icon {
            transition: transform 0.3s ease-out;
        }
        .accordion-header .icon.rotate {
            transform: rotate(180deg);
        }

        /* Sidebar Cart Styles */
        .sidebar-cart {
            position: fixed;
            top: 0;
            right: -400px; /* Hidden by default - عرض أكبر للسلة */
            width: 400px; /* Adjusted width */
            max-width: 95%; /* لضمان التجاوب على الشاشات الصغيرة جداً */
            height: 100%;
            background-color: white;
            box-shadow: -4px 0 10px rgba(0, 0, 0, 0.2);
            z-index: 90; /* أقل من المودال، أعلى من المحتوى */
            transition: right 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
        }
        .sidebar-cart.open {
            right: 0;
        }
        .sidebar-cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 85; /* بين المودال والسلة */
            display: none;
        }
        .sidebar-cart-overlay.open {
            display: block;
        }

        /* محتوى السلة داخل الشريط الجانبي */
        .sidebar-cart-content {
            flex-grow: 1;
            overflow-y: auto; /* للسماح بالتمرير إذا كانت العناصر كثيرة */
            padding-right: 10px; /* مسافة داخلية لعدم التصاق المحتوى بالحافة */
        }
        /* لتجميل شريط التمرير */
        .sidebar-cart-content::-webkit-scrollbar {
            width: 8px;
        }
        .sidebar-cart-content::-webkit-scrollbar-thumb {
            background-color: var(--color-primary-accent);
            border-radius: 4px;
        }
        .sidebar-cart-content::-webkit-scrollbar-track {
            background-color: #f1f1f1;
        }

        .sidebar-cart-footer {
            padding-top: 1rem;
            border-top: 1px solid #e5e7eb;
            flex-shrink: 0; /* لمنع الفوتير من الانكماش */
        }
    </style>
</head>
<body class="font-sans text-right" dir="rtl">

    <!-- Navbar -->
    <nav class="bg-primary-dark text-white p-4 shadow-lg fixed w-full z-50 transition-all duration-300">
        <div class="container mx-auto flex justify-between items-center flex-wrap">
            <!-- Company Name and Slogan with Logo -->
            <div class="flex items-center space-x-3 cursor-pointer" onclick="navigate('home-page')">
                <!--  -->
                <img src="https://placehold.co/80x40/2a2a32/fcbf01?text=TVS" alt="TechnoVision Solutions Logo" class="h-10 w-auto rounded-md" />
                <div class="flex flex-col">
                    <span class="font-extrabold text-2xl tracking-tight text-primary-accent">TechnoVision</span>
                    <span class="text-sm font-light opacity-80 hidden md:block">نقود النمو الرقمي لعملائنا بحلول متكاملة.</span>
                </div>
            </div>

            <!-- Mobile Menu Button -->
            <button
                class="md:hidden text-white focus:outline-none"
                id="mobile-menu-button"
                aria-label="Toggle navigation"
            >
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path id="menu-icon-open" style="display: block;" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    <path id="menu-icon-close" style="display: none;" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>

            <!-- Navigation Links -->
            <div class="w-full md:flex md:items-center md:w-auto mt-4 md:mt-0 hidden" id="navbar-links">
                <ul class="flex flex-col md:flex-row md:space-x-8 text-lg font-medium">
                    <li><a href="#home-page" onclick="navigate('home-page')" class="block py-2 px-3 rounded hover:bg-secondary-dark transition duration-300">الرئيسية</a></li>
                    <li><a href="#about-us-section" onclick="navigate('about-us-section')" class="block py-2 px-3 rounded hover:bg-secondary-dark transition duration-300">من نحن</a></li>
                    <li><a href="#services-page" onclick="navigate('services-page')" class="block py-2 px-3 rounded hover:bg-secondary-dark transition duration-300">خدماتنا</a></li>
                    <li><a href="#package-builder-page" onclick="navigate('package-builder-page')" class="block py-2 px-3 rounded hover:bg-secondary-dark transition duration-300">بناء باقتك</a></li>
                    <li><a href="#portfolio-page" onclick="navigate('portfolio-page')" class="block py-2 px-3 rounded hover:bg-secondary-dark transition duration-300">عملاؤنا وقصص النجاح</a></li>
                    <li><a href="#ai-content-editing-page" onclick="navigate('ai-content-editing-page')" class="block py-2 px-3 rounded hover:bg-secondary-dark transition duration-300">حلول الذكاء الاصطناعي</a></li>
                    <li><a href="#contact-page" onclick="navigate('contact-page')" class="block py-2 px-3 rounded hover:bg-secondary-dark transition duration-300">اتصل بنا</a></li>
                    <li>
                        <button
                            onclick="showContactFormModal()"
                            class="mt-2 md:mt-0 bg-primary-accent text-primary-dark font-bold py-2 px-5 rounded-full shadow-lg hover:bg-primary-accent-hover transition duration-300 transform hover:scale-105"
                        >
                            اطلب استشارة مجانية
                        </button>
                    </li>
                    <li>
                        <!-- Cart Icon for sidebar cart -->
                        <button onclick="toggleSidebarCart()" class="text-white relative mr-4">
                            <i class="fas fa-shopping-cart text-2xl"></i>
                            <span id="cart-item-count" class="absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Content Area - All sections are now displayed consecutively -->
    <div id="main-content-wrapper">
        <!-- Home Page -->
        <div id="home-page" class="page-content active pt-20">
            <!-- Hero Section -->
            <section class="relative h-[60vh] md:h-[80vh] flex items-center justify-center text-white text-center bg-cover bg-center" style="background-image: url(https://placehold.co/1920x1080/2a2a32/fcbf01?text=TechnoVision+Digital+Growth)">
                <div class="absolute inset-0 bg-black opacity-60"></div>
                <div class="relative z-10 p-6 max-w-4xl mx-auto">
                    <h1 class="text-4xl md:text-6xl font-extrabold leading-tight animate-fade-in-down">
                        نقود النمو الرقمي لعلامتك التجارية
                    </h1>
                    <p class="mt-4 text-lg md:text-2xl font-light opacity-90 animate-fade-in-up">
                        حلول متكاملة ومدعومة بالذكاء الاصطناعي لنتائج لا مثيل لها.
                    </p>
                    <button
                        onclick="navigate('package-builder-page')"
                        class="mt-8 bg-primary-accent text-primary-dark font-bold py-3 px-8 rounded-full shadow-lg hover:bg-primary-accent-hover transition duration-300 transform hover:scale-105 animate-bounce-in"
                    >
                        كون باقتك الآن
                    </button>
                </div>
            </section>

            <!-- Services Overview (from homepage_ai_marketing_agency.html) -->
            <section class="py-16 bg-gray-50">
                <div class="container mx-auto px-4 text-center">
                    <h2 class="text-3xl md:text-4xl font-extrabold text-primary-dark mb-10">خدماتنا الشاملة</h2>
                    <p class="text-lg md:text-xl text-gray-700 mb-8">نجمع بين الإبداع البشري ودقة الذكاء الاصطناعي لنقدم لك حلول تسويقية متكاملة ومبتكرة.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Service Card 1: Digital Marketing -->
                        <div class="bg-white rounded-lg shadow-lg p-6 transform transition duration-300 hover:scale-105 hover:shadow-xl border-t-4 border-primary-accent">
                            <div class="text-primary-accent mb-4 text-5xl">
                                <i class="fas fa-bullhorn"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">التسويق الرقمي المتكامل</h3>
                            <p class="text-gray-600">نقدم استراتيجيات وحملات تسويقية شاملة لتعزيز حضورك الرقمي وزيادة مبيعاتك.</p>
                        </div>
                        <!-- Service Card 2: Business Development -->
                        <div class="bg-white rounded-lg shadow-lg p-6 transform transition duration-300 hover:scale-105 hover:shadow-xl border-t-4 border-primary-dark">
                            <div class="text-primary-dark mb-4 text-5xl">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">تطوير الأعمال والاستشارات</h3>
                            <p class="text-gray-600">نساعدك على تحليل السوق، تحديد فرص النمو، ووضع خطط التوسع لعملك.</p>
                        </div>
                        <!-- Service Card 3: Accounting & Financial -->
                        <div class="bg-white rounded-lg shadow-lg p-6 transform transition duration-300 hover:scale-105 hover:shadow-xl border-t-4 border-yellow-600">
                            <div class="text-yellow-600 mb-4 text-5xl">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">خدمات محاسبية ومالية</h3>
                            <p class="text-gray-600">نضمن الامتثال المالي ونقدم استشارات لتحسين الأداء المالي لشركتك.</p>
                        </div>
                        <!-- Service Card 4: Legal Services -->
                        <div class="bg-white rounded-lg shadow-lg p-6 transform transition duration-300 hover:scale-105 hover:shadow-xl border-t-4 border-gray-600">
                            <div class="text-gray-600 mb-4 text-5xl">
                                <i class="fas fa-gavel"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">استشارات وخدمات قانونية</h3>
                            <p class="text-gray-600">نوفر الدعم القانوني اللازم لصياغة العقود وتسجيل الشركات والعلامات التجارية.</p>
                        </div>
                         <!-- Service Card 5: Technical Solutions -->
                         <div class="bg-white rounded-lg shadow-lg p-6 transform transition duration-300 hover:scale-105 hover:shadow-xl border-t-4 border-orange-500">
                            <div class="text-orange-500 mb-4 text-5xl">
                                <i class="fas fa-code"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">حلول تقنية ودعم فني</h3>
                            <p class="text-gray-600">نقدم حلول تطوير الويب والتطبيقات، دعم البنية التحتية، وأمن المعلومات.</p>
                        </div>
                         <!-- Service Card 6: AI R&D -->
                         <div class="bg-white rounded-lg shadow-lg p-6 transform transition duration-300 hover:scale-105 hover:shadow-xl border-t-4 border-purple-600">
                            <div class="text-purple-600 mb-4 text-5xl">
                                <i class="fas fa-robot"></i>
                            </div>
                            <h3 class="text-xl font-bold text-gray-800 mb-3">البحث والتطوير بالذكاء الاصطناعي</h3>
                            <p class="text-gray-600">نطبق أحدث تقنيات الذكاء الاصطناعي لتحسين خدماتنا وتقديم حلول متقدمة.</p>
                        </div>
                    </div>
                    <a href="#services-page" onclick="navigate('services-page')"
                        class="mt-12 bg-primary-dark text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-secondary-dark transition duration-300 transform hover:scale-105 inline-block"
                    >
                        استكشف جميع خدماتنا
                    </a>
                </div>
            </section>

            <!-- Why Choose Us Section -->
            <section class="py-16 bg-primary-dark text-white">
                <div class="container mx-auto px-4 text-center">
                    <h2 class="text-3xl md:text-4xl font-extrabold mb-10">لماذا تختار TechnoVision؟</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                        <!-- USP 1 -->
                        <div class="bg-secondary-dark rounded-lg p-6 shadow-xl flex flex-col items-center transform transition duration-300 hover:scale-105">
                            <div class="text-primary-accent mb-4 text-5xl">
                                <i class="fas fa-cubes"></i> <!-- Integrated Model icon -->
                            </div>
                            <h3 class="text-xl font-bold mb-3">النموذج المتكامل للخدمات</h3>
                            <p class="text-gray-200">حلول شاملة تتجاوز التسويق لتشمل جوانب حيوية أخرى للأعمال.</p>
                        </div>
                        <!-- USP 2 -->
                        <div class="bg-secondary-dark rounded-lg p-6 shadow-xl flex flex-col items-center transform transition duration-300 hover:scale-105">
                            <div class="text-primary-accent mb-4 text-5xl">
                                <i class="fas fa-cogs"></i> <!-- Flexibility icon -->
                            </div>
                            <h3 class="text-xl font-bold mb-3">المرونة في تقديم الخدمات</h3>
                            <p class="text-gray-200">يمكنك تكوين حزم خدمات مخصصة تناسب احتياجاتك وميزانيتك.</p>
                        </div>
                        <!-- USP 3 -->
                        <div class="bg-secondary-dark rounded-lg p-6 shadow-xl flex flex-col items-center transform transition duration-300 hover:scale-105">
                            <div class="text-primary-accent mb-4 text-5xl">
                                <i class="fas fa-home"></i> <!-- Remote-first icon -->
                            </div>
                            <h3 class="text-xl font-bold mb-3">نموذج العمل عن بعد (Remote-first)</h3>
                            <p class="text-gray-200">يسمح بالوصول إلى أفضل الكفاءات ويوفر مرونة للعملاء.</p>
                        </div>
                        <!-- USP 4 -->
                        <div class="bg-secondary-dark rounded-lg p-6 shadow-xl flex flex-col items-center transform transition duration-300 hover:scale-105">
                            <div class="text-primary-accent mb-4 text-5xl">
                                <i class="fas fa-hand-holding-usd"></i> <!-- ROI focus icon -->
                            </div>
                            <h3 class="text-xl font-bold mb-3">التركيز على النتائج والعائد على الاستثمار</h3>
                            <p class="text-gray-200">نلتزم بتحقيق نقطة التعادل وضمان الربحية لعملائنا.</p>
                        </div>
                        <!-- USP 5 -->
                        <div class="bg-secondary-dark rounded-lg p-6 shadow-xl flex flex-col items-center transform transition duration-300 hover:scale-105">
                            <div class="text-primary-accent mb-4 text-5xl">
                                <i class="fas fa-lightbulb"></i> <!-- AI R&D icon -->
                            </div>
                            <h3 class="text-xl font-bold mb-3">الاستثمار في البحث والتطوير بالذكاء الاصطناعي</h3>
                            <p class="text-gray-200">تقديم حلول مبتكرة ومتقدمة تكنولوجياً لتميز أعمالك.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Final Call to Action Section (Repeated for visibility) -->
            <section class="py-16 bg-primary-dark text-white text-center">
                <div class="container mx-auto px-4">
                    <h2 class="text-3xl md:text-4xl font-extrabold mb-6">هل أنت مستعد لدفع نموك الرقمي؟</h2>
                    <p class="text-lg md:text-xl mb-8 opacity-90">دعنا نساعدك في تحقيق أهدافك الرقمية. اتصل بنا اليوم!</p>
                    <button
                        onclick="showContactFormModal()"
                        class="bg-primary-accent text-primary-dark font-bold py-3 px-8 rounded-full shadow-lg hover:bg-primary-accent-hover transition duration-300 transform hover:scale-105 animate-bounce-in"
                    >
                        اطلب استشارة مجانية
                    </button>
                </div>
            </section>
        </div>

        <!-- About Us Page & Our Team -->
        <div id="about-us-section" class="page-content pt-24 pb-12 bg-gray-50">
            <div class="container mx-auto px-4">
                <h1 class="text-4xl md:text-5xl font-extrabold text-primary-dark text-center mb-12">من نحن - قصتنا، رؤيتنا، وفريقنا المصري</h1>

                <!-- Our Story -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-r-8 border-primary-accent animate-fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 text-right">قصتنا</h2>
                    <p class="text-gray-700 leading-relaxed text-right">
                        تأسست شركة TechnoVision على أرض مصر لتقديم حلول متكاملة للشركات الناشئة والصغيرة والمتوسطة (SMEs) في السوق المصري العريق. هدفنا الأساسي هو تمكين هذه الشركات من تحقيق النمو المستدام والتحول الرقمي الشامل، متجاوزين مجرد خدمات التسويق الإلكتروني لنشمل تطوير الأعمال، الخدمات المحاسبية والقانونية، والحلول التقنية المبتكرة، مع التركيز على التكامل الفعال بين جميع أقسام المؤسسة لضمان أقصى فعالية.
                    </p>
                    <p class="text-gray-700 leading-relaxed text-right mt-4">
                        منذ بدايتنا، التزمنا بمساعدة الشركات المصرية من جميع الأحجام على تحقيق أقصى إمكاناتها الرقمية، من خلال استراتيجيات مخصصة ونتائج قابلة للقياس، وبنموذج عمل عن بعد يضمن المرونة والوصول لأفضل الكفاءات المصرية والعالمية.
                    </p>
                </section>

                <!-- Vision, Mission, Values -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-l-8 border-primary-dark animate-fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-right">رؤيتنا، رسالتنا، وقيمنا الأصيلة</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-right">
                        <div>
                            <h3 class="text-xl font-semibold text-primary-dark mb-2 flex items-center justify-end">
                                <i class="fas fa-eye text-2xl ml-2"></i> رؤيتنا
                            </h3>
                            <p class="text-gray-700">أن نكون الشريك الاستراتيجي المفضل للشركات الناشئة والصغيرة والمتوسطة في مصر والمنطقة، وأن نساهم بقوة في بناء اقتصاد رقمي مصري مزدهر من خلال تقديم خدمات استشارية وتنفيذية رائدة ومتكاملة.</p>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-primary-dark mb-2 flex items-center justify-end">
                                <i class="fas fa-bullseye text-2xl ml-2"></i> رسالتنا
                            </h3>
                            <p class="text-gray-700">تمكين الشركات المصرية الصغيرة والمتوسطة من تحقيق أقصى استفادة من التواجد الرقمي والتكامل المؤسسي من خلال حلول مبتكرة وفعالة في التسويق، تطوير الأعمال، المحاسبة، الجوانب القانونية، والتقنية، بما يضمن نمو أعمالهم وزيادة تنافسيتهم في السوق.</p>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-primary-dark mb-2 flex items-center justify-end">
                                <i class="fas fa-heart text-2xl ml-2"></i> قيمنا
                             </h3>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li>الابتكار والشغف</li>
                                <li>الشفافية والثقة</li>
                                <li>التركيز على النتائج</li>
                                <li>التعاون والتطوير المستمر</li>
                                <li>التكامل والشمولية</li>
                                <li>العمل عن بعد بفاعلية</li>
                                <li><span class="font-bold">الأصالة المصرية والجودة العالمية</span></li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Our Team -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-r-8 border-primary-accent animate-fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">فريق عمل TechnoVision - خبراء مصريون في خدمتكم</h2>
                    <p class="text-gray-700 text-center mb-10">
                        فريق من الخبراء المصريين الملتزمين والشغوفين، يجمعون بين الخبرة البشرية العميقة والقدرات المتقدمة للذكاء الاصطناعي لتحقيق أهدافك بأفضل شكل.
                    </p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                        <!-- Team Member 1 -->
                        <!--  -->
                        <div class="flex flex-col items-center text-center">
                            <img src="https://placehold.co/150x150/fcbf01/2a2a32?text=أحمد" alt="أحمد حسام" class="w-36 h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-primary-accent"/>
                            <h3 class="text-xl font-bold text-gray-800">أحمد حسام</h3>
                            <p class="text-primary-dark font-semibold">الرئيس التنفيذي</p>
                            <p class="text-gray-600 text-sm mt-2">خبير استراتيجيات النمو الرقمي ودمج الذكاء الاصطناعي في السوق المصري.</p>
                        </div>
                        <!-- Team Member 2 -->
                        <div class="flex flex-col items-center text-center">
                            <!--  -->
                            <img src="https://placehold.co/150x150/2a2a32/fcbf01?text=مريم" alt="مريم سعيد" class="w-36 h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-primary-dark"/>
                            <h3 class="text-xl font-bold text-gray-800">مريم سعيد</h3>
                            <p class="text-primary-accent font-semibold">مديرة التسويق الرقمي</p>
                            <p class="text-gray-600 text-sm mt-2">متخصصة في بناء الحملات الناجحة وقيادة فرق العمل التسويقية.</p>
                        </div>
                        <!-- Team Member 3 -->
                        <div class="flex flex-col items-center text-center">
                            <!--  -->
                            <img src="https://placehold.co/150x150/fcbf01/2a2a32?text=محمود" alt="محمود علي" class="w-36 h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-primary-accent"/>
                            <h3 class="text-xl font-bold text-gray-800">محمود علي</h3>
                            <p class="text-primary-dark font-semibold">مدير المحتوى والذكاء الاصطناعي</p>
                            <p class="text-gray-600 text-sm mt-2">خبير في توليد وتحسين المحتوى المدعوم بالذكاء الاصطناعي باللغة العربية.</p>
                        </div>
                        <!-- Team Member 4 -->
                        <div class="flex flex-col items-center text-center">
                            <!--  -->
                            <img src="https://placehold.co/150x150/2a2a32/fcbf01?text=فاطمة" alt="فاطمة الزهراء" class="w-36 h-36 rounded-full object-cover mb-4 shadow-lg border-4 border-primary-dark"/>
                            <h3 class="text-xl font-bold text-gray-800">فاطمة الزهراء</h3>
                            <p class="text-primary-accent font-semibold">مديرة تطوير الأعمال</p>
                            <p class="text-gray-600 text-sm mt-2">متخصصة في تحليل السوق وتطوير استراتيجيات التوسع للمشاريع المصرية.</p>
                        </div>
                    </div>
                </section>

                <!-- Call to Action -->
                <section class="py-10 bg-primary-dark text-white text-center rounded-lg mt-10 shadow-xl">
                    <h2 class="text-3xl font-extrabold mb-4">هل لديك مشروع في ذهنك؟</h2>
                    <p class="text-lg mb-6 opacity-90">دع فريقنا المصري المحترف يساعدك على تحويل رؤيتك إلى واقع ملموس.</p>
                    <button
                        onclick="showContactFormModal()"
                        class="bg-primary-accent text-primary-dark font-bold py-3 px-8 rounded-full shadow-lg hover:bg-primary-accent-hover transition duration-300 transform hover:scale-105"
                    >
                        تواصل معنا اليوم
                    </button>
                </section>
            </div>
        </div>

        <!-- Services Page -->
        <div id="services-page" class="page-content pt-24 pb-12 bg-gray-50">
            <div class="container mx-auto px-4">
                <h1 class="text-4xl md:text-5xl font-extrabold text-primary-dark text-center mb-12">خدماتنا الشاملة - طريقك نحو النجاح</h1>

                <!-- Service 1: Digital Marketing Services -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-r-8 border-primary-accent animate-fade-in">
                    <div class="flex flex-col md:flex-row items-center md:space-x-8 text-right">
                        <div class="md:w-1/4 text-primary-accent text-7xl mb-4 md:mb-0 transform hover:scale-110 transition duration-300">
                            <i class="fas fa-bullhorn"></i>
                        </div>
                        <div class="md:w-3/4">
                            <h2 class="text-3xl font-bold text-gray-800 mb-4">خدمات التسويق الرقمي</h2>
                            <p class="text-gray-700 mb-4">
                                نقوم بصياغة استراتيجيات تسويقية فعالة وإدارة حملات إعلانية احترافية لزيادة وصولك وتأثيرك في السوق الرقمي المصري.
                            </p>
                            <!-- Accordion for detailed info -->
                            <div class="accordion-item">
                                <div class="accordion-header" onclick="toggleAccordion(this)">
                                    <span>تفاصيل أكثر <i class="fas fa-chevron-down icon mr-2"></i></span>
                                </div>
                                <div class="accordion-content">
                                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                                        <li>**صناعة المحتوى:** نصي ومرئي لحسابات التواصل الاجتماعي (فيسبوك، انستجرام، تيك توك) مصمم خصيصًا للجمهور المصري.</li>
                                        <li>**إنشاء وتطوير الويب:** تصميم وتطوير المتاجر الإلكترونية والمواقع الاحترافية المتكاملة مع أنظمة الدفع المصرية.</li>
                                        <li>**إدارة الحملات الإعلانية الممولة:** إدارة حملات إعلانية فعالة على Google Ads, Meta Ads, TikTok Ads باستهداف دقيق للسوق المصري.</li>
                                        <li>**إدارة حسابات التواصل الاجتماعي:** نشر، تفاعل، وردود سريعة باللغة واللهجة المصرية لتعزيز التفاعل.</li>
                                        <li>**تحسين محركات البحث (SEO):** استراتيجيات SEO قوية ومحتوى محسّن لزيادة الظهور في نتائج البحث المحلية والعربية.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Service 2: Business Development Services -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-l-8 border-primary-dark animate-fade-in">
                    <div class="flex flex-col md:flex-row-reverse items-center md:space-x-reverse md:space-x-8 text-right">
                        <div class="md:w-1/4 text-primary-dark text-7xl mb-4 md:mb-0 transform hover:scale-110 transition duration-300">
                            <i class="fas fa-lightbulb"></i>
                        </div>
                        <div class="md:w-3/4">
                            <h2 class="text-3xl font-bold text-gray-800 mb-4">خدمات تطوير الأعمال</h2>
                            <p class="text-gray-700 mb-4">
                                نقدم استشارات استراتيجية تساعدك على فهم السوق المصري، تحديد الفرص الجديدة، ووضع خطط نمو فعالة لأعمالك.
                            </p>
                            <!-- Accordion for detailed info -->
                            <div class="accordion-item">
                                <div class="accordion-header" onclick="toggleAccordion(this)">
                                    <span>تفاصيل أكثر <i class="fas fa-chevron-down icon mr-2"></i></span>
                                </div>
                                <div class="accordion-content">
                                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                                        <li>**دراسات الجدوى:** تحليل شامل للسوق المصري وتقييم الجدوى الاقتصادية لمشروعك.</li>
                                        <li>**خطط النمو والتوسع:** وضع استراتيجيات واضحة للتوسع داخل مصر أو في المنطقة.</li>
                                        <li>**استشارات استراتيجية:** توجيهات متخصصة لتحسين الأداء وتحديد الميزات التنافسية.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Service 3: Accounting & Financial Services -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-r-8 border-primary-accent animate-fade-in">
                    <div class="flex flex-col md:flex-row items-center md:space-x-8 text-right">
                        <div class="md:w-1/4 text-primary-accent mb-4 text-5xl">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <div class="md:w-3/4">
                            <h2 class="text-3xl font-bold text-gray-800 mb-4">خدمات محاسبية ومالية</h2>
                            <p class="text-gray-700 mb-4">
                                نساعدك في إدارة الجوانب المالية لشركتك بفعالية، من إعداد التقارير إلى الاستشارات الضريبية، لضمان الامتثال وتحسين الأداء المالي وفقًا للقوانين المصرية.
                            </p>
                            <!-- Accordion for detailed info -->
                            <div class="accordion-item">
                                <div class="accordion-header" onclick="toggleAccordion(this)">
                                    <span>تفاصيل أكثر <i class="fas fa-chevron-down icon mr-2"></i></span>
                                </div>
                                <div class="accordion-content">
                                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                                        <li>**إعداد التقارير المالية:** إعداد الميزانيات، قوائم الدخل، والتدفقات النقدية الدورية.</li>
                                        <li>**إدارة الدفاتر المحاسبية:** تنظيم وتوثيق جميع المعاملات المالية لضمان الشفافية والدقة.</li>
                                        <li>**استشارات ضريبية ومالية:** توجيهات حول الامتثال الضريبي والاستفادة القصوى من المزايا المالية في مصر.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Service 4: Legal Services -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-l-8 border-primary-dark animate-fade-in">
                    <div class="flex flex-col md:flex-row-reverse items-center md:space-x-reverse md:space-x-8 text-right">
                        <div class="md:w-1/4 text-primary-dark text-7xl mb-4 md:mb-0 transform hover:scale-110 transition duration-300">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <div class="md:w-3/4">
                            <h2 class="text-3xl font-bold text-gray-800 mb-4">خدمات قانونية</h2>
                            <p class="text-gray-700 mb-4">
                                نوفر الدعم القانوني لشركتك، بدءاً من صياغة العقود وحتى تسجيل الشركات والعلامات التجارية، لضمان الامتثال وحماية أعمالك في البيئة القانونية المصرية.
                            </p>
                            <!-- Accordion for detailed info -->
                            <div class="accordion-item">
                                <div class="accordion-header" onclick="toggleAccordion(this)">
                                    <span>تفاصيل أكثر <i class="fas fa-chevron-down icon mr-2"></i></span>
                                </div>
                                <div class="accordion-content">
                                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                                        <li>**صياغة العقود والاتفاقيات:** إعداد ومراجعة العقود بما يتوافق مع القوانين المصرية.</li>
                                        <li>**استشارات قانونية:** توجيهات للشركات الناشئة والصغيرة والمتوسطة حول الإطار القانوني لعملياتهم.</li>
                                        <li>**تسجيل الشركات والعلامات التجارية:** مساعدتك في إجراءات تسجيل شركتك وعلامتك التجارية في مصر.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Service 5: Technical Solutions -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-r-8 border-primary-accent animate-fade-in">
                    <div class="flex flex-col md:flex-row items-center md:space-x-8 text-right">
                        <div class="md:w-1/4 text-primary-accent mb-4 text-5xl">
                            <i class="fas fa-laptop-code"></i>
                        </div>
                        <div class="md:w-3/4">
                            <h2 class="text-3xl font-bold text-gray-800 mb-4">خدمات تقنية</h2>
                            <p class="text-gray-700 mb-4">
                                نقدم حلولاً تقنية متقدمة تشمل تطوير الويب والتطبيقات، دعم البنية التحتية، وحلول الأمن السيبراني لضمان كفاءة عملياتك الرقمية.
                            </p>
                            <!-- Accordion for detailed info -->
                            <div class="accordion-item">
                                <div class="accordion-header" onclick="toggleAccordion(this)">
                                    <span>تفاصيل أكثر <i class="fas fa-chevron-down icon mr-2"></i></span>
                                </div>
                                <div class="accordion-content">
                                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                                        <li>**دعم فني وحلول بنية تحتية:** دعم شامل لأنظمتك التقنية وتوفير حلول بنية تحتية مستقرة.</li>
                                        <li>**تطوير تطبيقات الويب والجوال:** تصميم وتطوير تطبيقات مخصصة لعملك على منصات الويب والجوال.</li>
                                        <li>**حلول الأمن السيبراني:** حماية بياناتك وأنظمتك من التهديدات السيبرانية.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Service 6: AI R&D Services -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-l-8 border-primary-dark animate-fade-in">
                    <div class="flex flex-col md:flex-row-reverse items-center md:space-x-reverse md:space-x-8 text-right">
                        <div class="md:w-1/4 text-primary-dark text-7xl mb-4 md:mb-0 transform hover:scale-110 transition duration-300">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="md:w-3/4">
                            <h2 class="text-3xl font-bold text-gray-800 mb-4">خدمات البحث والتطوير بالذكاء الاصطناعي</h2>
                            <p class="text-gray-700 mb-4">
                                قسم متخصص في البحث والتطوير والابتكار باستخدام الذكاء الاصطناعي لتحسين الخدمات وتقديم حلول متقدمة، بما في ذلك تحرير ومراجعة المحتوى.
                            </p>
                            <!-- Accordion for detailed info -->
                            <div class="accordion-item">
                                <div class="accordion-header" onclick="toggleAccordion(this)">
                                    <span>تفاصيل أكثر <i class="fas fa-chevron-down icon mr-2"></i></span>
                                </div>
                                <div class="accordion-content">
                                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                                        <li>**تطبيق حلول الذكاء الاصطناعي:** دمج الذكاء الاصطناعي في التسويق وتحليل البيانات لنتائج دقيقة.</li>
                                        <li>**تطوير أدوات مخصصة:** بناء أدوات ذكاء اصطناعي مخصصة تلبي احتياجات عملك الفريدة.</li>
                                        <li>**البحث في أحدث التقنيات:** استكشاف وتطبيق أحدث ابتكارات الذكاء الاصطناعي في الأعمال.</li>
                                    </ul>
                                </div>
                            </div>
                            <a href="#ai-content-editing-page" onclick="navigate('ai-content-editing-page')"
                                class="mt-6 bg-primary-accent text-primary-dark font-bold py-3 px-8 rounded-full shadow-lg hover:bg-primary-accent-hover transition duration-300 transform hover:scale-105 inline-block"
                            >
                                اكتشف المزيد عن حلول الذكاء الاصطناعي
                            </a>
                        </div>
                    </div>
                </section>

                <!-- Call to Action for consultation -->
                <section class="py-10 bg-primary-dark text-white text-center rounded-lg mt-10 shadow-xl">
                    <h2 class="text-3xl font-extrabold mb-4">هل أنت مستعد لدفع نموك الرقمي؟</h2>
                    <p class="text-lg mb-6 opacity-90">تواصل معنا اليوم لمناقشة أهدافك وكيف يمكننا مساعدتك.</p>
                    <button
                        onclick="showContactFormModal()"
                        class="bg-primary-accent text-primary-dark font-bold py-3 px-8 rounded-full shadow-lg hover:bg-primary-accent-hover transition duration-300 transform hover:scale-105"
                    >
                        اطلب استشارة مجانية
                    </button>
                </section>
            </div>
        </div>

        <!-- Package Builder Page (Combines Store and mini-cart) -->
        <div id="package-builder-page" class="page-content pt-24 pb-12 bg-gray-50">
            <div class="container mx-auto px-4">
                <h1 class="text-4xl md:text-5xl font-extrabold text-primary-dark text-center mb-12">بناء باقتك المخصصة - اختر خدماتك</h1>

                <div class="package-builder-layout">
                    <!-- Filters and Mini Cart Summary (Moved to sidebar) -->
                    <div class="lg:col-span-1-filters">
                        <div class="bg-white rounded-lg shadow-lg p-6 mb-8 sticky top-24">
                            <h3 class="text-xl font-bold text-primary-dark mb-4">التصنيفات</h3>
                            <ul class="space-y-2">
                                <li><a href="#package-builder-page" onclick="renderProducts('all')" class="text-gray-700 hover:text-primary-accent">جميع الخدمات</a></li>
                                <li><a href="#package-builder-page" onclick="renderProducts('تسويق')" class="text-gray-700 hover:text-primary-accent">خدمات التسويق</a></li>
                                <li><a href="#package-builder-page" onclick="renderProducts('تطوير')" class="text-gray-700 hover:text-primary-accent">خدمات التطوير</a></li>
                                <li><a href="#package-builder-page" onclick="renderProducts('ذكاء اصطناعي')" class="text-gray-700 hover:text-primary-accent">حلول الذكاء الاصطناعي</a></li>
                                <li><a href="#package-builder-page" onclick="renderProducts('تطوير أعمال')" class="text-gray-700 hover:text-primary-accent">تطوير أعمال</a></li>
                                <li><a href="#package-builder-page" onclick="renderProducts('محاسبة')" class="text-gray-700 hover:text-primary-accent">محاسبة</a></li>
                                <li><a href="#package-builder-page" onclick="renderProducts('قانونية')" class="text-gray-700 hover:text-primary-accent">خدمات قانونية</a></li>
                                <li><a href="#package-builder-page" onclick="renderProducts('تقنية')" class="text-gray-700 hover:text-primary-accent">حلول تقنية</a></li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Products Listing -->
                    <div class="lg:col-span-3-products grid grid-cols-1 md:grid-cols-2 gap-6" id="ecommerce-products">
                        <!-- Products will be populated here by JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Portfolio / Case Studies Page (Now includes Client Logos) -->
        <div id="portfolio-page" class="page-content pt-24 pb-12 bg-gray-50">
            <div class="container mx-auto px-4">
                <h1 class="text-4xl md:text-5xl font-extrabold text-primary-dark text-center mb-12">عملاؤنا وقصص نجاحنا - أمثلة حية للنمو</h1>

                <!-- Client Logos (Placeholder Carousel) -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-r-8 border-primary-accent animate-fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">شركاؤنا في النجاح</h2>
                    <div class="flex flex-wrap justify-center items-center gap-8 md:gap-12">
                        <!-- Logos - replace with actual client logos -->
                        <!--  -->
                        <img src="https://placehold.co/120x60/d1d5db/4b5563?text=Client+A" alt="Client Logo A" class="h-16 opacity-80 hover:opacity-100 transition-opacity duration-300 filter grayscale hover:grayscale-0"/>
                        <!--  -->
                        <img src="https://placehold.co/120x60/d1d5db/4b5563?text=Client+B" alt="Client Logo B" class="h-16 opacity-80 hover:opacity-100 transition-opacity duration-300 filter grayscale hover:grayscale-0"/>
                        <!--  -->
                        <img src="https://placehold.co/120x60/d1d5db/4b5563?text=Client+C" alt="Client Logo C" class="h-16 opacity-80 hover:opacity-100 transition-opacity duration-300 filter grayscale hover:grayscale-0"/>
                        <!--  -->
                        <img src="https://placehold.co/120x60/d1d5db/4b5563?text=Client+D" alt="Client Logo D" class="h-16 opacity-80 hover:opacity-100 transition-opacity duration-300 filter grayscale hover:grayscale-0"/>
                        <!--  -->
                        <img src="https://placehold.co/120x60/d1d5db/4b5563?text=Client+E" alt="Client Logo E" class="h-16 opacity-80 hover:opacity-100 transition-opacity duration-300 filter grayscale hover:grayscale-0"/>
                    </div>
                </section>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="case-studies-grid">
                    <!-- Case study cards will be dynamically inserted here by JS -->
                </div>

                <!-- Case Study Modal -->
                <div id="case-study-modal" class="modal-overlay" style="display: none;">
                    <div class="modal-content w-full max-w-2xl max-h-[90vh]">
                        <button
                            onclick="hideCaseStudyModal()"
                            class="absolute top-3 right-3 text-gray-500 hover:text-gray-700 text-3xl font-semibold leading-none focus:outline-none"
                            aria-label="Close"
                        >
                            &times;
                        </button>
                        <h2 class="text-3xl font-extrabold text-primary-dark mb-4 text-center" id="modal-case-study-client"></h2>
                        <p class="text-gray-600 text-center text-lg mb-6" id="modal-case-study-industry"></p>

                        <!--  -->
                        <img id="modal-case-study-image" src="" alt="صورة المشروع" class="w-full h-64 object-cover rounded-md mb-6"/>

                        <div class="space-y-4 text-right">
                            <div>
                                <h3 class="text-xl font-semibold text-primary-dark mb-2">التحدي:</h3>
                                <p class="text-gray-700" id="modal-case-study-challenge"></p>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold text-primary-dark mb-2">الحل المقدم:</h3>
                                <p class="text-gray-700" id="modal-case-study-solution"></p>
                            </div>
                            <div>
                                <h3 class="text-xl font-semibold text-primary-dark mb-2">النتائج القابلة للقياس:</h3>
                                <p class="text-gray-700" id="modal-case-study-results"></p>
                            </div>
                        </div>
                        <!-- AI-Powered Case Study Summary Feature -->
                        <div class="mt-8 pt-4 border-t border-gray-200">
                            <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">✨ ملخص وتحليلات بالذكاء الاصطناعي</h3>
                            <button
                                onclick="generateCaseStudySummary()"
                                id="generate-summary-button"
                                class="w-full bg-primary-dark text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-secondary-dark transition duration-300 transform hover:scale-105"
                            >
                                توليد ملخص النقاط الرئيسية ✨
                            </button>
                            <div id="ai-summary-output" class="mt-4 bg-gray-50 p-4 rounded-md text-gray-800 hidden">
                                <p id="ai-summary-text" class="leading-relaxed"></p>
                                <div id="ai-summary-loading" class="text-center text-primary-dark mt-2 hidden">
                                    <i class="fas fa-spinner fa-spin"></i> جاري التوليد...
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 text-center">
                            <button
                                onclick="hideCaseStudyModal(); navigate('contact-page', 'contact-form-modal', 'طلب استشارة لمشروع [اسم العميل]');"
                                class="bg-primary-dark text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-secondary-dark transition duration-300 transform hover:scale-105"
                            >
                                اطلب استشارة مجانية لمشروعك
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Testimonials & Reviews (Existing section) -->
        <div id="testimonials-section" class="page-content pt-24 pb-12 bg-gray-50">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-3xl md:text-4xl font-extrabold text-primary-dark mb-10">ماذا يقول عملاؤنا</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Testimonial Card 1 -->
                    <div class="bg-white rounded-lg p-6 shadow-md border-b-4 border-primary-accent">
                        <p class="text-gray-700 text-lg italic mb-4">"TechnoVision غيّرت قواعد اللعبة بالنسبة لشركتنا. لقد حققوا نتائج تفوق توقعاتنا في وقت قياسي."</p>
                        <p class="font-bold text-primary-dark">- أحمد السيد</p>
                        <p class="text-gray-500 text-sm">مدير تسويق، شركة الأفق الجديد</p>
                    </div>
                    <!-- Testimonial Card 2 -->
                    <div class="bg-white rounded-lg p-6 shadow-md border-b-4 border-primary-accent">
                        <p class="text-gray-700 text-lg italic mb-4">"الفريق احترافي ومتعاون للغاية. خدماتهم المدعومة بالذكاء الاصطناعي فريدة من نوعها وقوية!"</p>
                        <p class="font-bold text-primary-dark">- سارة علي</p>
                        <p class="text-gray-500 text-sm">الرئيس التنفيذي، حلول الابتكار</p>
                    </div>
                    <!-- Testimonial Card 3 -->
                    <div class="bg-white rounded-lg p-6 shadow-md border-b-4 border-primary-accent">
                        <p class="text-gray-700 text-lg italic mb-4">"بفضل TechnoVision، تضاعفت زيارات موقعنا وارتفعت مبيعاتنا بشكل ملحوظ. أوصي بهم بشدة."</p>
                        <p class="font-bold text-primary-dark">- خالد منصور</p>
                        <p class="text-gray-500 text-sm">صاحب متجر إلكتروني، متجر النخبة</p>
                    </div>
                </div>
            </div>
        </div>


        <!-- AI Content Editing Services Page -->
        <div id="ai-content-editing-page" class="page-content pt-24 pb-12 bg-gray-50">
            <div class="container mx-auto px-4">
                <h1 class="text-4xl md:text-5xl font-extrabold text-primary-dark text-center mb-12">حلول الذكاء الاصطناعي: الابتكار في صميم خدماتنا</h1>

                <!-- AI Overview -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-r-8 border-primary-accent animate-fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 text-right">كيف ندمج الذكاء الاصطناعي في خدماتنا؟</h2>
                    <p class="text-gray-700 leading-relaxed text-right mb-4">
                        في TechnoVision، نؤمن بأن الذكاء الاصطناعي ليس مجرد أداة، بل هو ركيزة أساسية لتقديم حلول مبتكرة وفعالة. قسم البحث والتطوير بالذكاء الاصطناعي (AI R&D) لدينا يكرس جهوده لتطوير وتطبيق أحدث التقنيات لتعزيز كل جانب من جوانك أعمال عملائنا في السوق المصري والعربي.
                    </p>
                    <p class="text-gray-700 leading-relaxed text-right mb-4">
                        نستخدم الذكاء الاصطناعي في:
                    </p>
                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-2 text-right">
                        <li>**تحليل البيانات المتقدم:** الكشف عن الأنماط والرؤى الخفية لتقديم استراتيجيات تسويقية وتجارية أكثر دقة وفاعلية في السوق المحلي.</li>
                        <li>**إنتاج المحتوى وتحسينه:** المساعدة في توليد أفكار المحتوى، تحسين النصوص، وضمان جودتها باللغة العربية الفصحى واللهجة المصرية (كما في خدمة التحرير).</li>
                        <li>**تخصيص الحملات التسويقية:** استهداف الجمهور بدقة أعلى وتقديم تجارب مخصصة تزيد من معدلات التحويل.</li>
                        <li>**تحسين العمليات التشغيلية:** أتمتة المهام المتكررة في الأقسام المختلفة (مثل المحاسبة والدعم الفني) لزيادة الكفاءة وتقليل التكاليف.</li>
                    </ul>
                </section>

                <!-- AI Content Editing & Review Services - Detailed -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-l-8 border-primary-dark animate-fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 text-right">تحرير ومراجعة المحتوى بالذكاء الاصطناعي</h2>
                    <p class="text-gray-700 leading-relaxed text-right mb-4">
                        خدمة فريدة تضمن جودة المحتوى الناتج عن الذكاء الاصطناعي، مع لمسة إنسانية احترافية. نقوم بمراجعة وتحرير النصوص لضمان تدفقها الطبيعي، خلوها من الأخطاء اللغوية والنحوية، مطابقتها لنبرة علامتك التجارية، والتأكد من أنها تبدو وكأنها مكتوبة بواسطة إنسان خبير.
                    </p>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">لماذا هذه الخدمة مهمة؟</h3>
                    <p class="text-gray-700 leading-relaxed text-right mb-4">
                        على الرغم من أن الذكاء الاصطناعي يمكنه توليد كميات هائلة من المحتوى بسرعة، إلا أنه غالبًا ما يفتقر إلى اللمسة البشرية، الإبداع، والدقة السياقية التي تميز المحتوى عالي الجودة. TechnoVision تحل هذه التحديات من خلال دمج قوة الذكاء الاصطناعي لدينا (للكشف والتحليل السريع) مع خبرة محررينا البشريين (للتعديل الدقيق والتخصيص الإبداعي).
                    </p>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">مزايا فريدة لخدمتنا:</h3>
                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-2 text-right">
                        <li>**كشف الأنماط الآلية:** تحديد الجمل والعبارات التي تظهر عادة في المحتوى الذي يكتبه الذكاء الاصطناعي لضمان الأصالة.</li>
                        <li>**تقييم "إنسانية" المحتوى:** إعطاء درجة توضح مدى قرب المحتوى من الكتابة البشرية والطبيعية.</li>
                        <li>**تحليل نبرة الصوت والعاطفة:** التأكد من أن المحتوى ينقل المشاعر والنبرة المطلوبة بدقة، ويتناسب مع الجمهور المستهدف.</li>
                    </ul>
                </section>

                <!-- AI Content Idea Generator Feature (Existing) -->
                <section class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-r-8 border-primary-accent animate-fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 text-center">✨ مولد أفكار المحتوى بالذكاء الاصطناعي</h2>
                    <p class="text-gray-700 mb-4 text-center">أدخل موضوعًا واحصل على أفكار محتوى مبتكرة تساعدك على البدء في كتابة المحتوى الجذاب والموجه للجمهور المصري!</p>
                    <div class="space-y-4">
                        <div>
                            <label for="content-topic" class="block text-gray-700 text-sm font-bold mb-2">موضوع المحتوى:</label>
                            <textarea
                                id="content-topic"
                                rows="3"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                                placeholder="مثال: استراتيجيات التسويق الرقمي للشركات المصرية الصغيرة"
                            ></textarea>
                        </div>
                        <button
                            onclick="generateContentIdeas()"
                            id="generate-ideas-button"
                            class="w-full bg-primary-dark text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-secondary-dark transition duration-300 transform hover:scale-105"
                        >
                            توليد الأفكار ✨
                        </button>
                        <div id="ai-content-ideas-output" class="mt-4 bg-gray-50 p-4 rounded-md text-gray-800 hidden">
                            <p id="ai-ideas-text" class="leading-relaxed"></p>
                            <div id="ai-ideas-loading" class="text-center text-primary-dark mt-2 hidden">
                                <i class="fas fa-spinner fa-spin"></i> جاري التوليد...
                            </div>
                        </div>
                    </div>
                </section>

                <!-- NEW AI Text Editing Tool Section -->
                <section id="ai-text-editor-tool" class="bg-white rounded-lg shadow-lg p-6 md:p-8 mb-10 border-r-8 border-primary-accent animate-fade-in">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4 text-center">✍️ أداة تحرير النصوص بالذكاء الاصطناعي</h2>
                    <p class="text-gray-700 mb-6 text-center">
                        أدخل نصك هنا واستخدم قوة الذكاء الاصطناعي لتلخيصه، مواصلة كتابته، أو إعادة صياغته!
                    </p>
                    <div class="space-y-4">
                        <div>
                            <label for="ai-editor-textarea" class="block text-gray-700 text-sm font-bold mb-2">نصك:</label>
                            <textarea
                                id="ai-editor-textarea"
                                rows="8"
                                class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                                placeholder="اكتب نصك هنا لتلخيصه أو مواصلة كتابته أو إعادة صياغته..."
                            ></textarea>
                        </div>
                        <div class="flex flex-wrap justify-center gap-4 mt-6">
                            <button
                                onclick="handleSummarizeAI()"
                                id="summarize-ai-button"
                                class="flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                                <i class="fas fa-magic ml-2"></i> تلخيص النص
                            </button>

                            <button
                                onclick="handleContinueWritingAI()"
                                id="continue-writing-ai-button"
                                class="flex items-center justify-center bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                                <i class="fas fa-feather-alt ml-2"></i> مواصلة الكتابة
                            </button>

                            <button
                                onclick="handleRephraseAI()"
                                id="rephrase-ai-button"
                                class="flex items-center justify-center bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"
                            >
                                <i class="fas fa-pencil-alt ml-2"></i> إعادة صياغة النص
                            </button>
                        </div>

                        <div id="ai-tool-output-section" class="mt-8 hidden">
                            <h3 class="text-xl font-bold text-gray-800 mb-3">النتائج:</h3>
                            <div id="ai-tool-output-content" class="bg-gray-50 p-4 rounded-md text-gray-800 relative min-h-[100px] flex items-center justify-center">
                                <p id="ai-tool-text-output" class="leading-relaxed"></p>
                                <div id="ai-tool-loading" class="absolute inset-0 flex items-center justify-center bg-gray-50 bg-opacity-80 hidden">
                                    <i class="fas fa-spinner fa-spin text-primary-dark text-4xl"></i>
                                </div>
                            </div>
                            <div class="flex justify-end mt-4">
                                <button
                                    onclick="applyAIToolOutput()"
                                    id="apply-ai-output-button"
                                    class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-5 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 hidden"
                                >
                                    تطبيق على النص الأصلي
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Pricing or Quote -->
                <section class="py-10 bg-primary-dark text-white text-center rounded-lg mt-10 shadow-xl">
                    <h2 class="text-3xl font-extrabold mb-4">هل أنت مستعد للاستفادة من قوة الذكاء الاصطناعي؟</h2>
                    <p class="text-lg mb-6 opacity-90">تواصل معنا لمناقشة كيف يمكن لحلولنا المدعومة بالذكاء الاصطناعي أن تدفع نموك.</p>
                    <button
                        onclick="showContactFormModal()"
                        class="bg-primary-accent text-primary-dark font-bold py-3 px-8 rounded-full shadow-lg hover:bg-primary-accent-hover transition duration-300 transform hover:scale-105"
                    >
                        اطلب استشارة مجانية
                    </button>
                </section>
            </div>
        </div>

        <!-- Contact Us Page (Serves as final order form for Package Builder) -->
        <div id="contact-page" class="page-content pt-24 pb-12 bg-gray-50">
            <div class="container mx-auto px-4">
                <h1 class="text-4xl md:text-5xl font-extrabold text-primary-dark text-center mb-12">اتصل بنا - لنبدأ رحلة نجاحك الرقمي في مصر</h1>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-10 bg-white rounded-lg shadow-xl p-6 md:p-10">
                    <!-- Contact Form -->
                    <div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-6 text-right">أرسل لنا رسالة</h2>
                        <form id="contact-form" class="space-y-6">
                            <div>
                                <label for="contact-name" class="block text-gray-700 text-sm font-bold mb-2 text-right">الاسم الكامل</label>
                                <input
                                    type="text"
                                    id="contact-name"
                                    name="name"
                                    class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                                    required
                                />
                            </div>
                            <div>
                                <label for="contact-email" class="block text-gray-700 text-sm font-bold mb-2 text-right">البريد الإلكتروني</label>
                                <input
                                    type="email"
                                    id="contact-email"
                                    name="email"
                                    class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                                    required
                                />
                            </div>
                            <div>
                                <label for="contact-phone" class="block text-gray-700 text-sm font-bold mb-2 text-right">رقم الهاتف (اختياري)</label>
                                <input
                                    type="tel"
                                    id="contact-phone"
                                    name="phone"
                                    class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                                />
                            </div>
                            <div>
                                <label for="contact-message" class="block text-gray-700 text-sm font-bold mb-2 text-right">رسالتك</label>
                                <textarea
                                    id="contact-message"
                                    name="message"
                                    rows="6"
                                    class="shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                                    required
                                ></textarea>
                            </div>
                            <button
                                type="submit"
                                id="contact-submit-button"
                                class="w-full bg-primary-dark hover:bg-secondary-dark text-white font-bold py-3 px-6 rounded-lg focus:outline-none focus:shadow-outline transition duration-300 transform hover:scale-105"
                            >
                                إرسال الرسالة
                            </button>
                            <p id="contact-submit-message" class="text-center mt-4"></p>
                        </form>
                    </div>

                    <!-- Direct Contact Details & Map -->
                    <div class="flex flex-col justify-between">
                        <div>
                            <h2 class="text-3xl font-bold text-gray-800 mb-6 text-right">تفاصيل الاتصال</h2>
                            <p class="text-gray-700 flex items-center mb-4 text-right justify-end">
                                info@technovision.com <svg class="w-6 h-6 mr-3 text-primary-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                            </p>
                            <p class="text-gray-700 flex items-center mb-4 text-right justify-end">
                                +20 10 1234 5678 <svg class="w-6 h-6 mr-3 text-primary-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                            </p>
                            <p class="text-gray-700 flex items-start mb-6 text-right justify-end">
                                جمهورية مصر العربية، القاهرة، [عنوان تفصيلي لـ TechnoVision إذا وجد مقر فعلي مستقبلي] <svg class="w-6 h-6 mr-3 text-primary-dark flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0L6.343 16.657m10.607-10.607a4 4 0 11-5.656 0 4 4 0 015.656 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a2 2 0 002 2h2m0-6V5a2 2 0 012-2h2a2 2 0 012 2v14"></path></svg>
                            </p>

                            <!-- Interactive Map Placeholder -->
                            <div class="h-64 bg-gray-200 rounded-md overflow-hidden shadow-inner flex items-center justify-center">
                                <iframe
                                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3453.8643197607755!2d31.23351981506543!3d30.04441998188168!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x145831969a7b6c59%3A0xcb1b2f6b3d1b2a1a!2z2YXYqtmK2YXZitipINmF2K_ZhNin2YHYp9mC!5e0!3m2!1sar!2seg!4v1678888888888!5m2!1sar!2seg"
                                    width="100%"
                                    height="100%"
                                    style="border: 0;"
                                    allowfullscreen=""
                                    loading="lazy"
                                    referrerpolicy="no-referrer-when-downgrade"
                                    title="موقعنا على الخريطة في القاهرة"
                                ></iframe>
                            </div>
                        </div>
                        <!-- Social Media Links -->
                        <div class="mt-8 text-center md:text-left">
                            <h3 class="text-xl font-bold text-gray-800 mb-4">تابعنا على وسائل التواصل الاجتماعي</h3>
                            <div class="flex justify-center md:justify-start space-x-6">
                                <a href="#" class="text-gray-600 hover:text-primary-dark transition duration-300" aria-label="Facebook">
                                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 0H5a5 5 0 00-5 5v14a5 5 0 005 5h14a5 5 0 005-5V5a5 5 0 00-5-5zm-2 7h-2v3h2v3h-2v7h-3v-7H9V7h3V5c0-1.657 1.343-3 3-3h2v3z"></path></svg>
                                </a>
                                <a href="#" class="text-gray-600 hover:text-primary-dark transition duration-300" aria-label="Twitter">
                                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4.041c-.722.322-1.5.541-2.316.643.834-.5 1.475-1.29 1.776-2.235-.783.465-1.658.806-2.585.992-.74-.789-1.79-1.284-2.955-1.284-2.23 0-4.045 1.815-4.045 4.045 0 .317.035.626.103.923C9.092 9.202 5.097 7.007 2.378 3.753c-.35.602-.547 1.299-.547 2.046 0 1.402.714 2.64 1.797 3.364-.66-.021-1.284-.203-1.823-.504v.05c0 1.968 1.402 3.606 3.264 3.982-.34.093-.7.143-1.07.143-.263 0-.52-.026-.77-.074.518 1.622 2.016 2.793 3.79 2.825-1.392 1.09-3.14 1.737-5.048 1.737-.329 0-.655-.021-.973-.057C2.923 19.34 5.098 20 7.375 20c8.854 0 13.682-7.334 13.682-13.682 0-.208-.005-.415-.014-.621.94-.679 1.758-1.53 2.404-2.497z"></path></svg>
                                </a>
                                <a href="#" class="text-gray-600 hover:text-primary-dark transition duration-300" aria-label="LinkedIn">
                                    <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.23 0H1.77C.79 0 0 .77 0 1.77v20.46c0 .98.79 1.77 1.77 1.77h20.46c.98 0 1.77-.79 1.77-1.77V1.77C24 .79 23.21 0 22.23 0zM7.17 20.44H3.59V9.67h3.58v10.77zM5.38 8.1c-1.2 0-2.17-.97-2.17-2.17 0-1.2.97-2.17 2.17-2.17 1.2 0 2.17.97 2.17 2.17 0 1.2-.97 2.17-2.17 2.17zM20.44 20.44h-3.58v-5.6c0-1.34-.02-3.07-1.87-3.07-1.87 0-2.16 1.46-2.16 2.97v5.7H9.25V9.67h3.42v1.57h.05c.47-.89 1.62-1.83 3.36-1.83 3.59 0 4.25 2.36 4.25 5.43v6.39z"></path></svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sidebar Cart -->
    <div id="sidebar-cart" class="sidebar-cart">
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-2xl font-bold text-primary-dark">باقة خدماتك</h3>
            <button onclick="toggleSidebarCart()" class="text-gray-500 hover:text-gray-700 text-3xl font-semibold leading-none focus:outline-none" aria-label="Close cart">
                &times;
            </button>
        </div>
        <div class="sidebar-cart-content" id="sidebar-cart-items">
            <!-- Cart items will be rendered here -->
            <div id="empty-sidebar-cart-message" class="text-center text-gray-600 mt-4">باقة الخدمات فارغة.</div>
        </div>
        <div class="sidebar-cart-footer">
            <div class="flex justify-between mb-2">
                <span>الإجمالي الفرعي:</span>
                <span id="sidebar-subtotal">0</span> جنيه
            </div>
            <div class="flex justify-between mb-4">
                <span>الضريبة (10%):</span>
                <span id="sidebar-tax">0</span> جنيه
            </div>
            <div class="flex justify-between font-bold text-lg border-t border-gray-200 pt-4">
                <span>المبلغ الكلي:</span>
                <span id="sidebar-grand-total">0</span> جنيه
            </div>
            <button onclick="sendPackageOrder()" class="w-full bg-primary-accent text-primary-dark font-bold py-3 mt-6 rounded-lg hover:bg-primary-accent-hover transition">
                <i class="fas fa-paper-plane ml-2"></i> إرسال طلب الباقة
            </button>
        </div>
    </div>
    <div id="sidebar-cart-overlay" class="sidebar-cart-overlay" onclick="toggleSidebarCart()"></div>

    <!-- Contact Form Modal (for general inquiries) -->
    <div id="contact-form-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <button
                onclick="hideContactFormModal()"
                class="absolute top-3 right-3 text-gray-500 hover:text-gray-700 text-3xl font-semibold leading-none focus:outline-none"
                aria-label="Close"
            >
                &times;
            </button>
            <h2 class="text-3xl font-extrabold text-primary-dark mb-6 text-center" id="modal-title-dynamic">اطلب استشارة مجانية</h2>
            <form id="modal-contact-form" class="space-y-4">
                <div>
                    <label for="modal-name" class="block text-gray-700 text-sm font-bold mb-2">الاسم الكامل</label>
                    <input
                        type="text"
                        id="modal-name"
                        name="name"
                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                        required
                    />
                </div>
                <div>
                    <label for="modal-email" class="block text-gray-700 text-sm font-bold mb-2">البريد الإلكتروني</label>
                    <input
                        type="email"
                        id="modal-email"
                        name="email"
                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                        required
                    />
                </div>
                <div>
                    <label for="modal-phone" class="block text-gray-700 text-sm font-bold mb-2">رقم الهاتف (اختياري)</label>
                    <input
                        type="tel"
                        id="modal-phone"
                        name="phone"
                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                    />
                </div>
                <div>
                    <label for="modal-message" class="block text-gray-700 text-sm font-bold mb-2">رسالتك</label>
                    <textarea
                        id="modal-message"
                        name="message"
                        rows="4"
                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:ring-2 focus:ring-primary-accent"
                        required
                    ></textarea>
                </div>
                <button
                    type="submit"
                    id="modal-submit-button"
                    class="w-full bg-primary-dark hover:bg-secondary-dark text-white font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition duration-300 transform hover:scale-105"
                >
                    إرسال الطلب
                </button>
                <p id="modal-submit-message" class="text-center mt-4"></p>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-primary-dark text-gray-300 py-10 px-4 mt-12">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Company Info -->
            <div>
                <h3 class="text-xl font-bold text-primary-accent mb-4">TechnoVision</h3>
                <p class="text-sm">نقود النمو الرقمي لعملائنا باستراتيجيات مبتكرة ومدعومة بالذكاء الاصطناعي.</p>
                <p class="text-sm mt-2">&copy; <span id="current-year"></span> TechnoVision. جميع الحقوق محفوظة.</p>
            </div>

            <!-- Quick Links -->
            <div>
                <h3 class="text-xl font-bold text-primary-accent mb-4">روابط سريعة</h3>
                <ul class="space-y-2">
                    <li><a href="#home-page" onclick="navigate('home-page')" class="hover:text-primary-accent transition duration-300">الرئيسية</a></li>
                    <li><a href="#about-us-section" onclick="navigate('about-us-section')" class="hover:text-primary-accent transition duration-300">من نحن</a></li>
                    <li><a href="#services-page" onclick="navigate('services-page')" class="hover:text-primary-accent transition duration-300">خدماتنا</a></li>
                    <li><a href="#package-builder-page" onclick="navigate('package-builder-page')" class="hover:text-primary-accent transition duration-300">بناء باقتك</a></li>
                    <li><a href="#portfolio-page" onclick="navigate('portfolio-page')" class="hover:text-primary-accent transition duration-300">عملاؤنا وقصص النجاح</a></li>
                    <li><a href="#ai-content-editing-page" onclick="navigate('ai-content-editing-page')" class="hover:text-primary-accent transition duration-300">حلول الذكاء الاصطناعي</a></li>
                    <li><a href="#contact-page" onclick="navigate('contact-page')" class="hover:text-primary-accent transition duration-300">اتصل بنا</a></li>
                </ul>
            </div>

            <!-- Contact Info & Social Media -->
            <div>
                <h3 class="text-xl font-bold text-primary-accent mb-4">اتصل بنا</h3>
                <p class="flex items-center mb-2">
                    <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                    info@technovision.com
                </p>
                <p class="flex items-center mb-2">
                    <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                    +20 10 1234 5678
                </p>
                <div class="flex space-x-4 mt-4">
                    <!-- Social Media Icons (placeholders) -->
                    <a href="#" class="hover:text-primary-accent transition duration-300" aria-label="Facebook">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 0H5a5 5 0 00-5 5v14a5 5 0 005 5h14a5 5 0 005-5V5a5 5 0 00-5-5zm-2 7h-2v3h2v3h-2v7h-3v-7H9V7h3V5c0-1.657 1.343-3 3-3h2v3z"></path></svg>
                    </a>
                    <a href="#" class="hover:text-primary-accent transition duration-300" aria-label="Twitter">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4.041c-.722.322-1.5.541-2.316.643.834-.5 1.475-1.29 1.776-2.235-.783.465-1.658.806-2.585.992-.74-.789-1.79-1.284-2.955-1.284-2.23 0-4.045 1.815-4.045 4.045 0 .317.035.626.103.923C9.092 9.202 5.097 7.007 2.378 3.753c-.35.602-.547 1.299-.547 2.046 0 1.402.714 2.64 1.797 3.364-.66-.021-1.284-.203-1.823-.504v.05c0 1.968 1.402 3.606 3.264 3.982-.34.093-.7.143-1.07.143-.263 0-.52-.026-.77-.074.518 1.622 2.016 2.793 3.79 2.825-1.392 1.09-3.14 1.737-5.048 1.737-.329 0-.655-.021-.973-.057C2.923 19.34 5.098 20 7.375 20c8.854 0 13.682-7.334 13.682-13.682 0-.208-.005-.415-.014-.621.94-.679 1.758-1.53 2.404-2.497z"></path></svg>
                    </a>
                    <a href="#" class="hover:text-primary-accent transition duration-300" aria-label="LinkedIn">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.23 0H1.77C.79 0 0 .77 0 1.77v20.46c0 .98.79 1.77 1.77 1.77h20.46c.98 0 1.77-.79 1.77-1.77V1.77C24 .79 23.21 0 22.23 0zM7.17 20.44H3.59V9.67h3.58v10.77zM5.38 8.1c-1.2 0-2.17-.97-2.17-2.17 0-1.2.97-2.17 2.17-2.17 1.2 0 2.17.97 2.17 2.17 0 1.2-.97 2.17-2.17 2.17zM20.44 20.44h-3.58v-5.6c0-1.34-.02-3.07-1.87-3.07-1.87 0-2.16 1.46-2.16 2.97v5.7H9.25V9.67h3.42v1.57h.05c.47-.89 1.62-1.83 3.36-1.83 3.59 0 4.25 2.36 4.25 5.43v6.39z"></path></svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        /* Global variables and utility functions */
        const pages = ['home-page', 'about-us-section', 'services-page', 'package-builder-page', 'portfolio-page', 'ai-content-editing-page', 'contact-page'];
        
        // Case Studies Data (unchanged, but now uses brand colors in placeholders)
        const caseStudiesData = [
            {
                id: 1,
                client: "شركة الأفق الجديد",
                industry: "التجارة الإلكترونية",
                challenge: "زيادة الوعي بالعلامة التجارية ومبيعات المنتجات الجديدة في السوق المصري التنافسي.",
                solution: "حملة تسويق رقمي متكاملة (SEO, SMM, PPC) مع التركيز على المحتوى الجذاب وإعلانات الفيديو الموجهة للجمهور المصري، بالإضافة إلى حملات بريد إلكتروني مخصصة.",
                results: "زيادة حركة المرور العضوية بنسبة 150%، وزيادة المبيعات بنسبة 70% خلال 6 أشهر، مما عزز مكانة العميل في السوق.",
                image: "https://placehold.co/600x400/2a2a32/fcbf01?text=حملة+التجارة+الإلكترونية+مصرية" // Updated to brand colors
            },
            {
                id: 2,
                client: "حلول الابتكار المصرية",
                industry: "الخدمات التقنية",
                challenge: "تطوير هوية بصرية جديدة وموقع ويب عصري يعكس قيم الشركة التكنولوجية المبتكرة.",
                solution: "إعادة تصميم العلامة التجارية بالكامل بالتعاون مع مصممين مصريين، وتطوير موقع ويب متجاوب مع التركيز على تجربة المستخدم السلسة والتصميم الجذاب.",
                results: "تحسين إدراك العلامة التجارية بنسبة 40%، وزيادة التفاعل على الموقع بنسبة 30%، مما جذب المزيد من العملاء المحتملين في القطاع التقني.",
                image: "https://placehold.co/600x400/fcbf01/2a2a32?text=هوية+وويب+تقني+مصري" // Updated to brand colors
            },
            {
                id: 3,
                client: "متجر النخبة للمنتجات المصرية",
                industry: "التجزئة",
                challenge: "تحسين ترتيب المنتجات في محركات البحث وزيادة معدل التحويل للمتجر الإلكتروني.",
                solution: "استراتيجية SEO شاملة تستهدف الكلمات المفتاحية المحلية، وتحسين صفحات المنتجات، وتنفيذ حملات بريد إلكتروني مستهدفة لزيادة المبيعات والولاء.",
                results: "زيادة الزيارات العضوية بنسبة 80%، وارتفاع معدل التحويل بنسبة 25%، مما أدى إلى نمو ملحوظ في إيرادات المتجر.",
                image: "https://placehold.co/600x400/2a2a32/fcbf01?text=تحسين+مبيعات+التجزئة+مصر" // Updated to brand colors
            },
            {
                id: 4,
                client: "المؤسسة التعليمية المتقدمة",
                industry: "التعليم",
                challenge: "جذب الطلاب الجدد وتعزيز التسجيل في البرامج التعليمية المعتمدة.",
                solution: "تسويق شامل عبر وسائل التواصل الاجتماعي مع التركيز على حملات الفيديو التوعوية، وإعلانات PPC مستهدفة، وإنشاء محتوى تعليمي جذاب يبرز مزايا المؤسسة.",
                results: "زيادة الاستفسارات بنسبة 60%، وتحقيق 40% زيادة في التسجيلات النهائية للعام الدراسي الجديد.",
                image: "https://placehold.co/600x400/fcbf01/2a2a32?text=تسويق+تعليمي+مصر" // Updated to brand colors
            },
        ];

        // Products Data (Services) - Updated with basePrice and durationUnit for services with duration
        const products = [
            {
                id: 1,
                name: "حزمة التسويق الأساسية",
                description: "إدارة 2 منصات تواصل اجتماعي + 10 منشورات شهرياً، مثالية للشركات الناشئة.",
                detailedDescription: "تشمل هذه الحزمة الأساسية إدارة حسابين على منصات التواصل الاجتماعي الرئيسية (مثل فيسبوك وإنستغرام) مع نشر 10 منشورات جذابة شهرياً. نركز على بناء حضورك الأولي وتفاعل جمهورك المستهدف في السوق المصري.",
                basePrice: 3000, // Price per month
                durationUnit: 'شهر', // Indicates this service has a duration
                category: "تسويق",
                image: "https://placehold.co/400x250/2a2a32/fcbf01?text=تسويق+أساسي"
            },
            {
                id: 2,
                name: "حزمة التسويق المتقدمة",
                description: "إدارة 4 منصات تواصل + 20 منشور + تحليلات أداء وتقارير مفصلة، للنمو السريع.",
                detailedDescription: "توسع نطاق وصولك مع هذه الحزمة التي تغطي 4 منصات تواصل اجتماعي بـ 20 منشور شهرياً. نقدم أيضاً تحليلات أداء مفصلة وتقارير دورية لمتابعة نمو حملاتك وتحسينها بشكل مستمر لضمان أقصى عائد على الاستثمار.",
                basePrice: 6000, // Price per month
                durationUnit: 'شهر',
                category: "تسويق",
                image: "https://placehold.co/400x250/fcbf01/2a2a32?text=تسويق+متقدم"
            },
            {
                id: 3,
                name: "تصميم متجر إلكتروني احترافي",
                description: "تصميم وتطوير متجر إلكتروني متكامل وجذاب، متوافق مع كافة الأجهزة. (دفع مرة واحدة)",
                detailedDescription: "نقوم بتصميم وتطوير متجر إلكتروني فريد واحترافي، متوافق تماماً مع جميع الأجهزة (الموبايل، التابلت، الكمبيوتر). يشمل ذلك دمج أنظمة الدفع المحلية والعالمية، تحسين تجربة المستخدم (UX) وواجهة المستخدم (UI) لضمان أعلى معدلات التحويل.",
                price: 15000, // One-time price
                category: "تطوير",
                image: "https://placehold.co/400x250/2a2a32/fcbf01?text=تصميم+متجر"
            },
            {
                id: 4,
                name: "حزمة الذكاء الاصطناعي لتحرير المحتوى",
                description: "تحرير وتدقيق محتوى مدعوم بالذكاء الاصطناعي، لتحسين جودة ودقة النصوص.",
                detailedDescription: "نقدم خدمة متخصصة في تحرير وتدقيق المحتوى الذي يتم إنشاؤه بواسطة الذكاء الاصطناعي. فريقنا يضمن أن النصوص طبيعية، خالية من الأخطاء، ومتوافقة تماماً مع أهداف علامتك التجارية ونبرتها، مع الحفاظ على الأصالة والجاذبية للجمهور المصري.",
                basePrice: 5000, // Price per month for ongoing service
                durationUnit: 'شهر',
                category: "ذكاء اصطناعي",
                image: "https://placehold.co/400x250/fcbf01/2a2a32?text=AI+محتوى"
            },
            {
                id: 5,
                name: "استشارة تطوير أعمال (ساعة واحدة)",
                description: "جلسة استشارية فردية لمناقشة استراتيجيات النمو والتوسع لشركتك. (مرة واحدة)",
                detailedDescription: "احصل على جلسة استشارية مكثفة لمدة ساعة مع أحد خبراء تطوير الأعمال لدينا. سنناقش تحدياتك، فرص النمو في السوق المصري، ونقدم لك توصيات قابلة للتنفيذ لمساعدتك في تحقيق أهدافك الاستراتيجية.",
                price: 750, // One-time price
                category: "تطوير أعمال",
                image: "https://placehold.co/400x250/2a2a32/fcbf01?text=استشارة+أعمال"
            },
            {
                id: 6,
                name: "خدمات محاسبية شهرية",
                description: "إدارة دفاتر الحسابات وإعداد التقارير المالية الشهرية لشركتك.",
                detailedDescription: "خدمة شهرية شاملة لإدارة الدفاتر المحاسبية، تسجيل المعاملات، وإعداد التقارير المالية الدورية (مثل الميزانية وقائمة الدخل). نضمن الدقة والامتثال للقوانين الضريبية المصرية ونساعدك على فهم وضعك المالي لاتخاذ قرارات مستنيرة.",
                basePrice: 4000, // Price per month
                durationUnit: 'شهر',
                category: "محاسبة",
                image: "https://placehold.co/400x250/fcbf01/2a2a32?text=خدمات+محاسبة"
            },
            {
                id: 7,
                name: "حزمة تصميم لوجو وهوية بصرية",
                description: "تصميم شعار احترافي وهوية بصرية كاملة لعلامتك التجارية. (دفع مرة واحدة)",
                detailedDescription: "نقدم خدمة تصميم شاملة تبدأ من تطوير مفهوم فريد لشعارك، مروراً باختيار الألوان والخطوط، وصولاً إلى تصميم كامل للهوية البصرية لشركتك (بما في ذلك كروت العمل، الأوراق الرسمية، وغيرها) لضمان تميز علامتك التجارية واحترافيتها في السوق المصري.",
                price: 7000,
                category: "تسويق",
                image: "https://placehold.co/400x250/2a2a32/fcbf01?text=هوية+بصرية"
            },
            {
                id: 8,
                name: "دعم فني للموقع (شهري)",
                description: "صيانة ودعم فني مستمر لموقع الويب الخاص بك، يشمل التحديثات الأمنية والدعم التقني.",
                detailedDescription: "خدمة دعم فني شهرية لضمان استمرارية عمل موقعك بكفاءة عالية. تشمل الخدمة التحديثات الأمنية المنتظمة، النسخ الاحتياطي للبيانات، حل المشكلات التقنية، وتحسين أداء الموقع لضمان تجربة مستخدم ممتازة.",
                basePrice: 1500,
                durationUnit: 'شهر',
                category: "تقنية",
                image: "https://placehold.co/400x250/fcbf01/2a2a32?text=دعم+فني"
            },
            {
                id: 9,
                name: "خدمات قانونية للشركات الناشئة",
                description: "استشارات أولية وتسجيل شركة جديدة في مصر.",
                detailedDescription: "حزمة خدمات قانونية مصممة خصيصاً للشركات الناشئة، تشمل الاستشارات القانونية الأولية حول متطلبات السوق المصري، والمساعدة في كافة إجراءات تسجيل شركتك الجديدة في السجل التجاري والهيئات الحكومية ذات الصلة لضمان الامتثال الكامل.",
                price: 5000,
                category: "قانونية",
                image: "https://placehold.co/400x250/2a2a32/fcbf01?text=قانونية+ناشئة"
            },
            {
                id: 10,
                name: "تطوير تطبيق جوال مخصص",
                description: "تصميم وتطوير تطبيق جوال مخصص لنظامي iOS و Android (مرة واحدة).",
                detailedDescription: "نقدم خدمة تصميم وتطوير تطبيقات جوال متكاملة ومخصصة لاحتياجات عملك، متوفرة على نظامي iOS وأندرويد. نركز على تقديم تجربة مستخدم سلسة، تصميم جذاب، ووظائف قوية تدعم أهدافك التجارية وتضمن أداءً متميزاً في السوق المصري.",
                price: 25000,
                category: "تطوير",
                image: "https://placehold.co/400x250/fcbf01/2a2a32?text=تطبيق+جوال"
            }
        ];

        // Shopping Cart - يتم تخزين سلة التسوق في localStorage
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // عناصر واجهة المستخدم الخاصة بسلة التسوق الجانبية
        const sidebarCart = document.getElementById('sidebar-cart');
        const sidebarCartOverlay = document.getElementById('sidebar-cart-overlay');
        const sidebarCartItems = document.getElementById('sidebar-cart-items');
        const emptySidebarCartMessage = document.getElementById('empty-sidebar-cart-message');
        const sidebarSubtotal = document.getElementById('sidebar-subtotal');
        const sidebarTax = document.getElementById('sidebar-tax');
        const sidebarGrandTotal = document.getElementById('sidebar-grand-total');
        const cartItemCountSpan = document.getElementById('cart-item-count'); // عداد العناصر في النافبار

        // الدالة لفتح/إغلاق سلة التسوق الجانبية
        function toggleSidebarCart() {
            sidebarCart.classList.toggle('open');
            sidebarCartOverlay.classList.toggle('open');
            // إضافة/إزالة كلاس على الـ body لدفع المحتوى إذا كانت السلة مفتوحة (للتجاوب)
            document.body.classList.toggle('cart-open');
            if (sidebarCart.classList.contains('open')) {
                renderSidebarCart(); // إعادة عرض محتوى السلة عند فتحها
            }
        }

        // دالة لعرض المنتجات في قسم "بناء باقتك" مع إمكانية الفلترة
        function renderProducts(filterCategory = 'all') {
            const container = document.getElementById('ecommerce-products');
            if (!container) {
                console.error("عنصر المنتجات (#ecommerce-products) غير موجود.");
                return;
            }
            
            container.innerHTML = ''; // مسح المحتوى القديم قبل إعادة العرض
            
            const filteredProducts = filterCategory === 'all' 
                ? products 
                : products.filter(p => p.category === filterCategory);

            if (filteredProducts.length === 0) {
                container.innerHTML = '<p class="text-center text-gray-600 text-lg col-span-full">لا توجد خدمات في هذا التصنيف حالياً.</p>';
                return;
            }

            filteredProducts.forEach(product => {
                let priceDisplayHtml = '';
                let durationSelectHtml = '';
                let initialPrice = product.price || product.basePrice; // السعر الأولي (لمرة واحدة أو الخيار الأول للمدة)

                if (product.durationUnit) {
                    // للخدمات ذات التسعير الديناميكي بناءً على المدة/الخيارات
                    initialPrice = product.basePrice * 1; // Default to 1 month/unit
                    durationSelectHtml = `
                        <div class="mt-2">
                            <label for="duration-select-${product.id}" class="block text-gray-700 text-sm mb-1">اختر المدة/الباقة:</label>
                            <input type="number" id="duration-select-${product.id}" value="1" min="1"
                                class="w-20 p-1 border border-gray-300 rounded-md text-center text-gray-800"
                                onchange="updateProductDisplayPrice('${product.id}')" />
                            <span class="text-gray-700 text-sm ml-1">${product.durationUnit}</span>
                        </div>
                    `;
                }
                
                priceDisplayHtml = `<span id="product-display-price-${product.id}" class="text-primary-accent font-bold text-lg">
                                        ${initialPrice.toLocaleString()} جنيه
                                    </span>`;

                const productCard = `
                    <div class="bg-white rounded-lg shadow-lg p-6 mb-6 border border-gray-200 transform transition duration-300 hover:scale-105 hover:shadow-xl">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-40 object-cover rounded-md mb-4"/>
                        <h3 class="text-xl font-bold text-primary-dark mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-4">${product.description}</p>
                        <div class="flex flex-col items-start mb-4">
                            ${priceDisplayHtml}
                            ${durationSelectHtml}
                            <span id="calculated-price-${product.id}" class="text-gray-700 text-sm mt-1"></span>
                        </div>
                        <div class="flex justify-end items-center mt-4">
                            <button onclick="addProductToCart('${product.id}')" 
                                class="bg-primary-dark text-white py-2 px-4 rounded-lg hover:bg-secondary-dark transition">
                                <i class="fas fa-cart-plus ml-2"></i> أضف إلى الباقة
                            </button>
                        </div>
                    </div>
                `;
                container.innerHTML += productCard;
                if (product.durationUnit) {
                    updateProductDisplayPrice(product.id); // Set initial calculated price
                }
            });
        }

        // تحديث السعر المعروض على بطاقة المنتج عند تغيير خيار المدة
        function updateProductDisplayPrice(productId) {
            const product = products.find(p => p.id === productId);
            if (!product || !product.durationUnit) return;

            const inputElement = document.getElementById(`duration-select-${productId}`);
            const priceDisplaySpan = document.getElementById(`product-display-price-${productId}`);
            const calculatedPriceSpan = document.getElementById(`calculated-price-${productId}`);

            let duration = parseInt(inputElement.value);
            if (isNaN(duration) || duration < 1) {
                duration = 1;
                inputElement.value = 1;
            }
            const calculatedPrice = product.basePrice * duration;
            priceDisplaySpan.textContent = `${calculatedPrice.toLocaleString()} جنيه`;
            calculatedPriceSpan.textContent = `(${product.basePrice.toLocaleString()} جنيه / ${product.durationUnit})`;
        }

        // دالة لإضافة المنتج إلى سلة التسوق (إصلاح مشكلة عدم الظهور)
        function addProductToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) {
                console.error("المنتج غير موجود:", productId);
                return;
            }

            let selectedPrice = product.price; // للسعر لمرة واحدة
            let selectedDuration = 1;
            let durationName = '';
            let cartItemUniqueId = product.id; // المعرف الفريد لعنصر السلة

            if (product.durationUnit) {
                const inputElement = document.getElementById(`duration-select-${productId}`);
                if (inputElement) {
                    selectedDuration = parseInt(inputElement.value);
                    selectedPrice = product.basePrice * selectedDuration;
                    durationName = `${selectedDuration} ${product.durationUnit}`;
                    cartItemUniqueId = `${product.id}-${selectedDuration}`; // لضمان تمايز الخيارات المختلفة لنفس المنتج
                } else {
                    console.warn(`عنصر المدة للخدمة ${productId} غير موجود على الرغم من وجود وحدة مدة.`);
                }
            }
            
            // البحث عن العنصر في السلة باستخدام الـ ID الفريد
            const existingItemIndex = cart.findIndex(item => item.cartId === cartItemUniqueId);

            if (existingItemIndex > -1) {
                // إذا كان العنصر موجودًا بالفعل، قم بزيادة الكمية
                cart[existingItemIndex].quantity += 1;
                console.log("تم زيادة كمية المنتج في السلة:", cart[existingItemIndex]);
            } else {
                // إذا لم يكن موجودًا، أضف العنصر الجديد
                cart.push({
                    cartId: cartItemUniqueId, // معرف فريد لكل إدخال في السلة
                    id: product.id, // معرف المنتج الأساسي
                    name: product.name,
                    description: product.description,
                    detailedDescription: product.detailedDescription,
                    price: selectedPrice, // سعر العنصر (بما في ذلك سعر الخيار المحدد)
                    baseProduct: product, // مرجع للمنتج الأصلي لاسترجاع خيارات المدة إذا لزم الأمر
                    quantity: 1,
                    duration: selectedDuration,
                    durationName: durationName,
                    isDurationBased: !!product.durationUnit
                });
                console.log("تم إضافة منتج جديد إلى السلة:", cart[cart.length - 1]);
            }
            
            updateCart(); // تحديث عرض السلة بعد الإضافة
            showCustomAlert("تمت إضافة الخدمة إلى باقتك!", 'success');
            toggleSidebarCart(); // فتح الشريط الجانبي للسلة بعد الإضافة
        }

        // تحديث حالة السلة في localStorage وإعادة عرضها
        function updateCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
            renderSidebarCart(); // إعادة عرض محتوى السلة الجانبية
            updateCartItemCount(); // تحديث عداد العناصر في النافبار
            console.log("تم تحديث السلة في localStorage:", cart);
        }

        // تحديث عداد العناصر في أيقونة السلة بالنافبار
        function updateCartItemCount() {
            const count = cart.reduce((sum, item) => sum + item.quantity, 0);
            if (cartItemCountSpan) {
                cartItemCountSpan.textContent = count;
            } else {
                console.warn("عنصر عداد السلة (#cart-item-count) غير موجود.");
            }
        }

        // دالة لعرض محتوى سلة التسوق في الشريط الجانبي (إصلاح مشكلة عدم الظهور)
        function renderSidebarCart() {
            if (!sidebarCartItems) {
                console.error("عنصر عناصر السلة (#sidebar-cart-items) غير موجود.");
                return;
            }

            sidebarCartItems.innerHTML = ''; // مسح المحتوى القديم

            let subtotal = 0;
            const TAX_RATE = 0.10; // 10% ضريبة

            if (cart.length === 0) {
                emptySidebarCartMessage.classList.remove('hidden');
            } else {
                emptySidebarCartMessage.classList.add('hidden');
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    subtotal += itemTotal;

                    const cartItemHtml = `
                        <div class="flex items-center justify-between py-3 border-b border-gray-100 last:border-b-0">
                            <div class="flex items-center">
                                <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded-md ml-3"/>
                                <div>
                                    <h4 class="text-primary-dark font-semibold">${item.name}</h4>
                                    <p class="text-gray-600 text-sm">الكمية: ${item.quantity}</p>
                                    ${item.isDurationBased ? `<p class="text-gray-600 text-sm">المدة: ${item.durationName}</p>` : ''}
                                    <p class="text-gray-600 text-sm">السعر: ${(item.price).toLocaleString()} جنيه</p>
                                </div>
                            </div>
                            <button onclick="removeItemFromCart('${item.cartId}')" class="text-red-500 hover:text-red-700 text-xl" aria-label="إزالة">
                                &times;
                            </button>
                        </div>
                    `;
                    sidebarCartItems.innerHTML += cartItemHtml;
                });
            }

            const tax = subtotal * TAX_RATE;
            const grandTotal = subtotal + tax;

            sidebarSubtotal.textContent = subtotal.toLocaleString();
            sidebarTax.textContent = tax.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            sidebarGrandTotal.textContent = grandTotal.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        }

        // دالة لإزالة عنصر من السلة
        function removeItemFromCart(cartId) {
            cart = cart.filter(item => item.cartId !== cartId);
            updateCart();
            showCustomAlert("تمت إزالة الخدمة من باقتك.", 'info');
        }

        // دالة لإرسال طلب الباقة (يمكن توسيعها لترسل إلى خادم حقيقي)
        function sendPackageOrder() {
            if (cart.length === 0) {
                showCustomAlert("لا توجد خدمات في باقتك لإرسالها!", 'error');
                return;
            }

            const orderDetails = cart.map(item => ({
                id: item.id,
                name: item.name,
                quantity: item.quantity,
                duration: item.duration,
                price: item.price
            }));
            const totalAmount = parseFloat(sidebarGrandTotal.textContent.replace(/,/g, ''));

            // هنا يمكنك إضافة منطق إرسال الطلب إلى الخادم
            // في هذا المثال، سنقوم بعرض رسالة تنبيه بسيطة
            let message = `تم استلام طلب باقتك بنجاح!\n\nتفاصيل الطلب:\n`;
            orderDetails.forEach(item => {
                message += `- ${item.name} (الكمية: ${item.quantity}`;
                if (item.duration) {
                    message += `, المدة: ${item.duration} شهر`;
                }
                message += `) - السعر: ${item.price.toLocaleString()} جنيه\n`;
            });
            message += `\nالمبلغ الكلي: ${totalAmount.toLocaleString()} جنيه مصري.`;

            showCustomAlert(message, 'success');

            // مسح السلة بعد الإرسال
            cart = [];
            updateCart();
            toggleSidebarCart(); // إغلاق الشريط الجانبي للسلة
            
            // يمكن توجيه المستخدم إلى صفحة شكر أو إظهار نموذج اتصال ببيانات الطلب
            showContactFormModal(`تم استلام طلب باقتك، الرجاء إكمال النموذج للتأكيد.`);
            document.getElementById('modal-message').value = `تفاصيل طلبي:\n${message}`;
        }


        // Navigation function for SPA-like behavior
        function navigate(pageId, modalId = null, modalMessage = '') {
            pages.forEach(id => {
                const page = document.getElementById(id);
                if (page) {
                    page.classList.remove('active');
                    page.style.display = 'none'; // Hide physically
                }
            });

            const activePage = document.getElementById(pageId);
            if (activePage) {
                activePage.classList.add('active');
                activePage.style.display = 'block'; // Show physically
                activePage.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }

            // Close mobile menu if open
            const mobileMenu = document.getElementById('navbar-links');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const menuIconOpen = document.getElementById('menu-icon-open');
            const menuIconClose = document.getElementById('menu-icon-close');
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                menuIconOpen.style.display = 'block';
                menuIconClose.style.display = 'none';
            }

            // Show specific modal if requested
            if (modalId) {
                if (modalId === 'contact-form-modal') {
                    showContactFormModal(modalMessage);
                } else if (modalId === 'case-study-modal') {
                    // Assuming generateCaseStudySummary is called inside showCaseStudyModal
                    // For now, this is a placeholder. You'd need to adapt `showCaseStudyModal`
                    // to accept dynamic content or an ID.
                    console.warn(`Modal ID ${modalId} requested, but not fully implemented for direct navigation.`);
                }
            }
        }

        // Mobile Menu Toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function() {
            const navbarLinks = document.getElementById('navbar-links');
            const menuIconOpen = document.getElementById('menu-icon-open');
            const menuIconClose = document.getElementById('menu-icon-close');

            navbarLinks.classList.toggle('hidden');
            if (navbarLinks.classList.contains('hidden')) {
                menuIconOpen.style.display = 'block';
                menuIconClose.style.display = 'none';
            } else {
                menuIconOpen.style.display = 'none';
                menuIconClose.style.display = 'block';
            }
        });

        // Contact Form Modal functions
        function showContactFormModal(dynamicMessage = 'اطلب استشارة مجانية') {
            const modal = document.getElementById('contact-form-modal');
            const modalTitle = document.getElementById('modal-title-dynamic');
            const modalMessageField = document.getElementById('modal-message');

            modalTitle.textContent = dynamicMessage;
            if (dynamicMessage.includes('تفاصيل طلبي:')) { // Pre-fill message if it's an order
                modalMessageField.value = dynamicMessage;
            } else {
                modalMessageField.value = ''; // Clear for general inquiries
            }
            modal.style.display = 'flex';
        }

        function hideContactFormModal() {
            document.getElementById('contact-form-modal').style.display = 'none';
        }

        // Handle contact form submission in modal
        document.getElementById('modal-contact-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const submitButton = document.getElementById('modal-submit-button');
            const submitMessage = document.getElementById('modal-submit-message');

            submitButton.disabled = true;
            submitButton.textContent = 'جاري الإرسال...';
            submitMessage.textContent = '';
            submitMessage.className = 'text-center mt-4 text-gray-700';

            const name = document.getElementById('modal-name').value;
            const email = document.getElementById('modal-email').value;
            const phone = document.getElementById('modal-phone').value;
            const message = document.getElementById('modal-message').value;

            // Simulate API call
            await new Promise(resolve => setTimeout(resolve, 1500));

            // Basic validation (can be more robust)
            if (name && email && message) {
                submitMessage.textContent = 'شكراً لك! تم استلام رسالتك بنجاح. سنتواصل معك قريباً.';
                submitMessage.classList.add('text-green-600');
                // Clear form
                document.getElementById('modal-contact-form').reset();
            } else {
                submitMessage.textContent = 'الرجاء ملء جميع الحقول المطلوبة.';
                submitMessage.classList.add('text-red-600');
            }

            submitButton.disabled = false;
            submitButton.textContent = 'إرسال الطلب';
        });

        // Case Study Modal functions
        function showCaseStudyModal(caseStudyId) {
            const caseStudy = caseStudiesData.find(cs => cs.id === caseStudyId);
            if (!caseStudy) return;

            document.getElementById('modal-case-study-client').textContent = caseStudy.client;
            document.getElementById('modal-case-study-industry').textContent = caseStudy.industry;
            document.getElementById('modal-case-study-image').src = caseStudy.image;
            document.getElementById('modal-case-study-challenge').textContent = caseStudy.challenge;
            document.getElementById('modal-case-study-solution').textContent = caseStudy.solution;
            document.getElementById('modal-case-study-results').textContent = caseStudy.results;

            // Clear previous AI summary and hide output section
            document.getElementById('ai-summary-text').textContent = '';
            document.getElementById('ai-summary-output').classList.add('hidden');
            document.getElementById('ai-summary-loading').classList.add('hidden');
            document.getElementById('generate-summary-button').disabled = false;
            document.getElementById('generate-summary-button').textContent = 'توليد ملخص النقاط الرئيسية ✨';


            document.getElementById('case-study-modal').style.display = 'flex';
        }

        function hideCaseStudyModal() {
            document.getElementById('case-study-modal').style.display = 'none';
        }

        // Render Case Studies on Portfolio Page
        function renderCaseStudies() {
            const container = document.getElementById('case-studies-grid');
            if (!container) return;
            container.innerHTML = ''; // Clear existing content

            caseStudiesData.forEach(cs => {
                const card = `
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform transition duration-300 hover:scale-105 hover:shadow-xl cursor-pointer"
                        onclick="showCaseStudyModal(${cs.id})">
                        <img src="${cs.image}" alt="صورة مشروع ${cs.client}" class="w-full h-48 object-cover"/>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-primary-dark mb-2">${cs.client}</h3>
                            <p class="text-gray-600 text-sm mb-4">${cs.industry}</p>
                            <p class="text-gray-700 text-sm leading-relaxed">${cs.challenge.substring(0, 100)}...</p>
                            <button class="mt-4 text-primary-accent hover:underline">اقرأ المزيد</button>
                        </div>
                    </div>
                `;
                container.innerHTML += card;
            });
        }

        // Generate Case Study Summary using Gemini API
        async function generateCaseStudySummary() {
            const summaryButton = document.getElementById('generate-summary-button');
            const summaryOutput = document.getElementById('ai-summary-output');
            const summaryText = document.getElementById('ai-summary-text');
            const summaryLoading = document.getElementById('ai-summary-loading');

            const challenge = document.getElementById('modal-case-study-challenge').textContent;
            const solution = document.getElementById('modal-case-study-solution').textContent;
            const results = document.getElementById('modal-case-study-results').textContent;

            const fullText = `دراسة حالة:\nالتحدي: ${challenge}\nالحل: ${solution}\nالنتائج: ${results}`;

            summaryButton.disabled = true;
            summaryButton.textContent = 'جاري التوليد...';
            summaryLoading.classList.remove('hidden');
            summaryOutput.classList.remove('hidden');
            summaryText.textContent = ''; // Clear previous text

            try {
                let chatHistory = [];
                const prompt = `الرجاء تلخيص دراسة الحالة التالية وتحديد النقاط الرئيسية والنتائج بوضوح:\n\n${fullText}`;
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; // Canvas will provide this at runtime if empty
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    summaryText.textContent = result.candidates[0].content.parts[0].text;
                } else {
                    summaryText.textContent = 'فشل في توليد الملخص. الرجاء المحاولة مرة أخرى.';
                    console.error('Unexpected API response structure:', result);
                }
            } catch (err) {
                summaryText.textContent = 'حدث خطأ أثناء توليد الملخص.';
                console.error('Error generating case study summary:', err);
            } finally {
                summaryButton.disabled = false;
                summaryButton.textContent = 'توليد ملخص النقاط الرئيسية ✨';
                summaryLoading.classList.add('hidden');
            }
        }

        // Generate Content Ideas using Gemini API
        async function generateContentIdeas() {
            const topicInput = document.getElementById('content-topic');
            const generateButton = document.getElementById('generate-ideas-button');
            const outputDiv = document.getElementById('ai-content-ideas-output');
            const outputText = document.getElementById('ai-ideas-text');
            const loadingIndicator = document.getElementById('ai-ideas-loading');

            const topic = topicInput.value.trim();
            if (!topic) {
                showCustomAlert('الرجاء إدخال موضوع لتوليد الأفكار.', 'error');
                outputDiv.classList.add('hidden');
                return;
            }

            generateButton.disabled = true;
            generateButton.textContent = 'جاري التوليد...';
            loadingIndicator.classList.remove('hidden');
            outputDiv.classList.remove('hidden');
            outputText.textContent = ''; // Clear previous output

            try {
                let chatHistory = [];
                const prompt = `اقتراح 5 أفكار إبداعية للمحتوى التسويقي باللغة العربية حول الموضوع التالي، مع التركيز على الجمهور المصري: "${topic}". يجب أن تكون الأفكار متنوعة ومناسبة لمنصات التواصل الاجتماعي والمدونات.`;
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; // Canvas will provide this at runtime if empty
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    outputText.textContent = result.candidates[0].content.parts[0].text;
                } else {
                    outputText.textContent = 'فشل في توليد الأفكار. الرجاء المحاولة مرة أخرى.';
                    console.error('Unexpected API response structure:', result);
                }
            } catch (err) {
                outputText.textContent = 'حدث خطأ أثناء توليد الأفكار.';
                console.error('Error generating content ideas:', err);
            } finally {
                generateButton.disabled = false;
                generateButton.textContent = 'توليد الأفكار ✨';
                loadingIndicator.classList.add('hidden');
            }
        }

        // Custom Alert/Toast Notification
        function showCustomAlert(message, type = 'info') {
            let alertContainer = document.getElementById('custom-alert-container');
            if (!alertContainer) {
                alertContainer = document.createElement('div');
                alertContainer.id = 'custom-alert-container';
                alertContainer.className = 'fixed bottom-5 left-1/2 -translate-x-1/2 flex flex-col items-center space-y-2 z-[1000]';
                document.body.appendChild(alertContainer);
            }

            const alertDiv = document.createElement('div');
            alertDiv.className = `p-4 rounded-lg shadow-lg text-white font-semibold text-center min-w-[250px] max-w-sm`;

            if (type === 'success') {
                alertDiv.classList.add('bg-green-500');
            } else if (type === 'error') {
                alertDiv.classList.add('bg-red-500');
            } else { // info
                alertDiv.classList.add('bg-blue-500');
            }

            alertDiv.textContent = message;
            alertContainer.appendChild(alertDiv);

            setTimeout(() => {
                alertDiv.classList.add('animate-fade-out-down');
                alertDiv.addEventListener('animationend', () => {
                    alertDiv.remove();
                    if (alertContainer.children.length === 0) {
                        alertContainer.remove();
                    }
                });
            }, 3000); // Alert disappears after 3 seconds
        }

        // AI Text Editor Tool Functions (New Feature)
        async function callGeminiAPI(prompt, actionType) {
            const textarea = document.getElementById('ai-editor-textarea');
            const outputSection = document.getElementById('ai-tool-output-section');
            const outputTextElement = document.getElementById('ai-tool-text-output');
            const loadingIndicator = document.getElementById('ai-tool-loading');
            const applyButton = document.getElementById('apply-ai-output-button');
            const summarizeButton = document.getElementById('summarize-ai-button');
            const continueButton = document.getElementById('continue-writing-ai-button');
            const rephraseButton = document.getElementById('rephrase-ai-button');

            const originalText = textarea.value.trim();
            if (!originalText) {
                showCustomAlert('الرجاء إدخال بعض النصوص لاستخدام الأداة.', 'error');
                outputSection.classList.add('hidden');
                return;
            }

            // Disable all buttons and show loading
            summarizeButton.disabled = true;
            continueButton.disabled = true;
            rephraseButton.disabled = true;
            applyButton.classList.add('hidden'); // Hide apply button during processing

            loadingIndicator.classList.remove('hidden');
            outputSection.classList.remove('hidden');
            outputTextElement.textContent = ''; // Clear previous output

            try {
                let chatHistory = [];
                let formattedPrompt = '';

                if (actionType === 'summarize') {
                    formattedPrompt = `لخص النص التالي بإيجاز ووضوح:\n\n${originalText}`;
                } else if (actionType === 'continue') {
                    formattedPrompt = `واصل كتابة النص التالي بشكل طبيعي وإبداعي:\n\n${originalText}`;
                } else if (actionType === 'rephrase') {
                    formattedPrompt = `أعد صياغة النص التالي لتحسين الوضوح والتدفق:\n\n${originalText}`;
                } else {
                    throw new Error('نوع إجراء غير صالح.');
                }

                chatHistory.push({ role: "user", parts: [{ text: formattedPrompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; // Canvas will provide this at runtime if empty
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const aiGeneratedText = result.candidates[0].content.parts[0].text;
                    outputTextElement.textContent = aiGeneratedText;
                    // Store generated text for potential application
                    outputTextElement.dataset.generatedText = aiGeneratedText; 
                    applyButton.classList.remove('hidden'); // Show apply button after generation
                } else {
                    outputTextElement.textContent = 'عذراً، فشل في توليد الرد. الرجاء المحاولة مرة أخرى.';
                    console.error('Unexpected API response structure:', result);
                }
            } catch (err) {
                outputTextElement.textContent = 'حدث خطأ أثناء الاتصال بالذكاء الاصطناعي.';
                console.error('Error in AI tool:', err);
            } finally {
                loadingIndicator.classList.add('hidden');
                // Re-enable buttons
                summarizeButton.disabled = false;
                continueButton.disabled = false;
                rephraseButton.disabled = false;
            }
        }

        function handleSummarizeAI() {
            callGeminiAPI(document.getElementById('ai-editor-textarea').value, 'summarize');
        }

        function handleContinueWritingAI() {
            callGeminiAPI(document.getElementById('ai-editor-textarea').value, 'continue');
        }

        function handleRephraseAI() {
            callGeminiAPI(document.getElementById('ai-editor-textarea').value, 'rephrase');
        }

        function applyAIToolOutput() {
            const textarea = document.getElementById('ai-editor-textarea');
            const outputTextElement = document.getElementById('ai-tool-text-output');
            const generatedText = outputTextElement.dataset.generatedText;

            if (generatedText) {
                textarea.value = generatedText;
                outputTextElement.textContent = ''; // Clear output
                outputTextElement.dataset.generatedText = ''; // Clear stored text
                document.getElementById('ai-tool-output-section').classList.add('hidden');
                document.getElementById('apply-ai-output-button').classList.add('hidden');
                showCustomAlert('تم تطبيق النص الجديد بنجاح!', 'success');
            }
        }

        // تعيين السنة الحالية في الفوتر
        document.getElementById('current-year').textContent = new Date().getFullYear();

        // التهيئة الأولية عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', () => {
            navigate('home-page'); // التنقل إلى الصفحة الرئيسية افتراضياً عند التحميل
            renderCaseStudies(); // Render portfolio items
            renderProducts('all'); // Render products for the store section
            updateCart(); // تحديث السلة عند التحميل لضمان عرض أي عناصر محفوظة في localStorage
        });
    </script>
</body>
</html>
